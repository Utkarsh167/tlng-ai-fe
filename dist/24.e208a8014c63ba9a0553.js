(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"/p11":function(t,e){t.exports='.flex_row {\n  display: flex;\n  margin: 0 -10px;\n  align-items: center;\n}\n\n.flex_row_sub {\n  display: flex;\n  margin: 0 -10px;\n  align-items: top;\n  padding: 10px;\n}\n\n.flex_row_sub_test {\n  display: flex;\n  margin: 0 -10px;\n  align-items: center;\n  padding: 10px;\n}\n\n.flex_row {\n  height: 100vh;\n}\n\n.tab-table {\n  margin: 20px 0 0 0;\n}\n\n#img_container {\n  position: relative;\n  text-align: center;\n  border: 1px solid red;\n  overflow: auto;\n  margin-left: 1px;\n}\n\n:host ::ng-deep .btn_wrapper li:first-child {\n  margin-top: 0;\n}\n\n::ng-deep .mat-form-field-flex > .mat-form-field-infix {\n  padding: 0.4em 0px !important;\n}\n\n::ng-deep .mat-form-field-label-wrapper {\n  top: -1.5em;\n}\n\n::ng-deep .mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label {\n  -webkit-transform: translateY(-1.1em) scale(0.75);\n          transform: translateY(-1.1em) scale(0.75);\n  width: 133.33333%;\n}\n\n.pointer_green {\n  position: absolute;\n  width: 15px;\n  height: 15px;\n  border-radius: 10px;\n  color: black;\n  cursor: pointer;\n  background: #86bc24;\n  display: block;\n}\n\n.pointer_red {\n  position: absolute;\n  width: 15px;\n  height: 15px;\n  border-radius: 10px;\n  color: black;\n  cursor: pointer;\n  background: red;\n  display: block;\n}\n\n.pointer_green_status {\n  width: 15px;\n  height: 15px;\n  border-radius: 10px;\n  color: black;\n  background: #86bc24;\n  display: block;\n}\n\n.pointer_red_status {\n  width: 15px;\n  height: 15px;\n  border-radius: 10px;\n  color: black;\n  background: red;\n  display: block;\n}\n\n.pointer_colors {\n  width: 15px;\n  height: 15px;\n  border-radius: 10px;\n  color: black;\n  cursor: pointer;\n  border: 2px solid black;\n  background: #86bc24;\n  display: block;\n}\n\n.margin_top_20 {\n  margin-top: 20px;\n}\n\n.sidenav {\n  height: 100%;\n  width: 0;\n  position: fixed;\n  z-index: 1;\n  top: 0;\n  left: 0;\n  background-color: #111;\n  overflow-x: hidden;\n  transition: 0.5s;\n  padding-top: 60px;\n}\n\n.sidenav a {\n  padding: 8px 8px 8px 32px;\n  text-decoration: none;\n  font-size: 25px;\n  color: #818181;\n  display: block;\n  transition: 0.3s;\n}\n\n.sidenav a:hover {\n  color: #f1f1f1;\n}\n\n.sidenav .closebtn {\n  position: absolute;\n  top: 0;\n  right: 25px;\n  font-size: 36px;\n  margin-left: 50px;\n}\n\n@media screen and (max-height: 450px) {\n  .sidenav {\n    padding-top: 15px;\n  }\n\n  .sidenav a {\n    font-size: 18px;\n  }\n}\n\n.alignRight {\n  margin-left: auto;\n  width: 100%;\n}\n\n.flex {\n  display: flex;\n}\n\n.image_overflow {\n  overflow: auto;\n}\n\nmat-slider {\n  width: 200px;\n}\n\n.tooltip-dialog {\n  position: absolute;\n  display: inline-block;\n  border: 2px solid black;\n}\n\n.tooltip-dialog .tooltiptext-dialog {\n  visibility: hidden;\n  width: 180px;\n  background-color: #555;\n  color: #fff;\n  text-align: left;\n  border-radius: 6px;\n  padding: 10px 10px;\n  position: absolute;\n  z-index: 1;\n  bottom: 125%;\n  left: 0%;\n  margin-left: -60px;\n  opacity: 0;\n  transition: opacity 0.3s;\n}\n\n.tooltip-dialog .tooltiptext-dialog::after {\n  content: "";\n  position: absolute;\n  top: 100%;\n  left: 45%;\n  margin-left: -5px;\n  border-width: 5px;\n  border-style: solid;\n  border-color: #555 transparent transparent transparent;\n}\n\n.tooltip-dialog:hover .tooltiptext-dialog {\n  visibility: visible;\n  opacity: 1;\n}'},"/xvd":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return RealtimeComponent});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("mrSG"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("CcnG"),_models_pagination__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("RzZf"),_angular_material__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("BHnd"),_service_realtime_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("j22h"),_constant_app_constant__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("yG5I"),_dialog_mapview_mapview_component__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("hsjL"),_angular_material_dialog__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("o3x0"),src_app_constant_messages__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("vblm"),src_app_modules_shared_services_utility_service__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("iiAa"),src_app_pipes_seconds_to_hours_seconds_to_hours_pipe__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("Od0n"),RealtimeComponent=function(_super){function RealtimeComponent(t,e,n,a){var i=_super.call(this)||this;return i._realTimeService=t,i.dialog=e,i._utilityService=n,i.secondsToHourPipe=a,i.datas=new _angular_material__WEBPACK_IMPORTED_MODULE_3__.a([]),i.displayedColumns=["position","name","camera","slotNo","vehicleId","duration","event_start","image","status","action"],i.duration=_constant_app_constant__WEBPACK_IMPORTED_MODULE_5__.d,i.status=_constant_app_constant__WEBPACK_IMPORTED_MODULE_5__.p,i.view=_constant_app_constant__WEBPACK_IMPORTED_MODULE_5__.r,i.selectedBuilding="0",i.selectedZone="1000",i.selectedCamera="0",i.status_selected="all",i.duration_selected="0",i.overallData={occupied:0,available:0},i.totalSpots=0,i.isLoadCamera=!0,i.nameArray=["Gert","Gordon","Humberto","Hanna","Henri","Hermine","Harvey","Helene","Iris","Isidore","Isabel","Ivan","Irene","Isaac","Jerry","Josephine","Juan","Jeanne","Jose","Joyce","Karen","Kyle","Kate","Karl","Katrina","Kirk","Lorenzo","Lili","Larry","Lisa","Lee","Leslie","Michelle","Marco","Mindy","Maria","Michael","Noel","Nana","Nicholas","Nicole","Nate","Nadine","Olga","Omar","Odette","Otto","Ophelia","Oscar","Pablo","Paloma","Peter","Paula","Philippe","Patty","Rebekah","Rene","Rose","Richard","Rita","Rafael","Sebastien","Sally","Sam","Shary","Stan","Sandy","Tanya","Teddy","Teresa","Tomas","Tammy","Tony","Van","Vicky","Victor","Virginie","Vince","Valerie","Wendy","Wilfred","Wanda","Walter","Wilma","William","Kumiko","Aki","Miharu","Chiaki","Michiyo","Itoe","Nanaho","Reina","Emi","Yumi","Ayumi","Kaori","Sayuri","Rie","Miyuki","Hitomi","Naoko","Miwa"],i}return tslib__WEBPACK_IMPORTED_MODULE_0__.__extends(RealtimeComponent,_super),RealtimeComponent.prototype.ngOnInit=function(){var t=this;this.sliderDisabled=!0,this.toggleNav=!0,this.withImage=!1,this.getCurrentTimeStamp(),setInterval(function(){t.getCurrentTimeStamp()},1e4),this.getPrevious24Hours(),this.getLocations(),this.getLongDuration()},RealtimeComponent.prototype.sortData=function(t){this.sortOptions=t,this.resetPages(),this.getSnapshotData()},RealtimeComponent.prototype.createSelectForm=function(){this.selectForm=this._realTimeService.createSelectForm()},RealtimeComponent.prototype.changePage=function(t){this.pageOptionsOnChange=t,0!=this.total&&this.getSnapshotData(t)},RealtimeComponent.prototype.getScopeData=function(t){return tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter(this,void 0,void 0,function(){var e,n=this;return tslib__WEBPACK_IMPORTED_MODULE_0__.__generator(this,function(a){switch(a.label){case 0:return document.getElementById("imageContainer").classList.add("image_overflow"),null==this.mainScopeData?[3,1]:(console.log(this.params),console.log(this.mainScopeData.data),this.scopeMapData=this.objectKeys(this.mainScopeData.data.visual_plans[this.params.floorValue].spots),this.tempScopeMapData=this.scopeMapData,this.imageSize=this.mainScopeData.data.visual_plans[this.params.floorValue].image_size,this.tempImageSize=this.mainScopeData.data.visual_plans[this.params.floorValue].image_size,this.cameras=this.mainScopeData.data.visual_plans[this.params.floorValue].camera_ids,this.cameraScopeData=this.objectKeys(this.mainScopeData.data.cameras[this.cameras[0]].spots),this.cameraImageSize=this.mainScopeData.data.cameras[this.cameras[0]].image_size,this.floorName=this.params.floorValue,t&&(this.cameraScopeData=this.objectKeys(this.mainScopeData.data.cameras[t].spots),this.cameraImageSize=this.mainScopeData.data.cameras[t].image_size),this.durationColors=this.mainScopeData.data.duration_colors,this.withImage&&!t?(0==this.selectedView?(this.withImage=!1,this.params.withImage=!1,this.params.cameras=this.cameras,this.scopeMapData=this.scopeMapData,this.snapShotData=void 0,this.getSnapshotData(void 0,void 0,void 0)):1==this.selectedView?(this.withImage=!0,this.params.withImage=!1,this.params.cameras=[this.cameras[0]],this.scopeMapData=this.cameraScopeData,this.snapShotData=void 0,this.getSnapshotData(void 0,void 0,this.cameras[0])):(this.params.withImage=!1,this.params.cameras=this.cameras,this.scopeMapData=this.scopeMapData,this.snapShotData=void 0,this.getSnapshotData(void 0,void 0,void 0)),[2]):(t?([],e=[],this.params.withImage=!0,this.withImage=!1,this.params.cameras=[t],this.scopeMapData.filter(function(e){return e.camera_id==t}).map(function(t,n){e.push(t)}),this.scopeMapData=e,this.tempScopeMapData=e,this.snapShotData=void 0,this.getSnapshotData(void 0,void 0,void 0)):(this.withImage=!1,t?(this.params.cameras=[this.cameras[0]],this.params.withImage=!0):(this.params.cameras=this.cameras,this.params.withImage=!1),this.scopeMapData=this.tempScopeMapData,this.snapShotData=void 0,this.getSnapshotData(void 0,void 0,void 0)),this.selectedView,[3,3]));case 1:return[4,this._realTimeService.getScopeData(this.params).subscribe(function(e){if(n.scopeMapData=[],n.imageSize=[],n.cameras=[],n.mainScopeData=e,console.log(n.params),console.log(e.data),n.scopeMapData=n.objectKeys(e.data.visual_plans[n.params.floorValue].spots),n.tempScopeMapData=n.scopeMapData,n.imageSize=e.data.visual_plans[n.params.floorValue].image_size,n.tempImageSize=e.data.visual_plans[n.params.floorValue].image_size,n.cameras=e.data.visual_plans[n.params.floorValue].camera_ids,n.cameraScopeData=n.objectKeys(e.data.cameras[n.cameras[0]].spots),n.cameraImageSize=e.data.cameras[n.cameras[0]].image_size,n.floorName=n.params.floorValue,t&&(n.cameraScopeData=n.objectKeys(e.data.cameras[t].spots),n.cameraImageSize=e.data.cameras[t].image_size),n.durationColors=e.data.duration_colors,!n.withImage||t)if(t){var a=[];n.params.withImage=!0,n.withImage=!1,n.params.cameras=[t],n.scopeMapData.filter(function(e){return e.camera_id==t}).map(function(t,e){a.push(t)}),n.scopeMapData=a,n.tempScopeMapData=a,n.snapShotData=void 0,n.getSnapshotData(void 0,void 0,void 0)}else n.withImage=!1,t?(n.params.cameras=[n.cameras[0]],n.params.withImage=!0):(n.params.cameras=n.cameras,n.params.withImage=!1),n.scopeMapData=n.tempScopeMapData,n.snapShotData=void 0,n.getSnapshotData(void 0,void 0,void 0);else n.selectedView==_constant_app_constant__WEBPACK_IMPORTED_MODULE_5__.r[0].value?(n.withImage=!1,n.params.withImage=!1,n.params.cameras=n.cameras,n.scopeMapData=n.scopeMapData,n.snapShotData=void 0,n.getSnapshotData(void 0,void 0,void 0)):n.selectedView==_constant_app_constant__WEBPACK_IMPORTED_MODULE_5__.r[1].value?(n.withImage=!0,n.params.withImage=!1,n.params.cameras=n.cameras,n.scopeMapData=n.cameraScopeData,n.snapShotData=void 0,n.getSnapshotData(void 0,void 0,void 0)):(n.params.withImage=!1,n.params.cameras=n.cameras,n.scopeMapData=n.scopeMapData,n.snapShotData=void 0,n.getSnapshotData(void 0,void 0,void 0))})];case 2:a.sent(),a.label=3;case 3:return[2]}})})},RealtimeComponent.prototype.getSnapshotData=function(paginator,timeRange,camera,isSlider,isLoad){return void 0===isLoad&&(isLoad=!0),tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter(this,void 0,void 0,function(){var data,StartPageIndex,endPageIndex,_this=this;return tslib__WEBPACK_IMPORTED_MODULE_0__.__generator(this,function(_a){switch(_a.label){case 0:return data=[],null!=this.snapShotData?[3,2]:(console.log("here"),this.tempScopeMapData=this.scopeMapData,1==this.selectedView&&(this.params.withImage=!0),this.params.timestamp=this.currentTimestamp,[4,this._realTimeService.getSnapshotData(this.params,isLoad).subscribe(function(t){_this.snapShotData=t.data.spot_states,_this.MedianDuration=t.data.median_duration,_this.tempSnapShotData=_this.snapShotData,_this.VacantData=t.data.spot_states.length-t.data.occupiers,_this.OccupiedData=t.data.occupiers,_this.overallData.occupied=_this.OccupiedData,_this.overallData.available=_this.VacantData,_this.cameraImage="data:image/png;base64,"+t.data.image;var e=0;if(_this.snapShotData.forEach(function(t){t.duration>_this.longHours&&e++}),_this.longHoursCount=e,console.log("longhours count ->>>>"+e),camera&&(_this.IMAGE_SRC=_this.cameraImage),null!=paginator){var n=paginator.pageIndex*paginator.pageSize,a=(paginator.pageIndex+1)*paginator.pageSize;_this.snapShotData.slice([n],[a]).map(function(t,e){data.push(t)})}else _this.snapShotData.slice([0],[10]).map(function(t,e){data.push(t)}),_this.page=1;if(_this.sliderDisabled=!1,_this.total=_this.snapShotData.length,_this.totalSpots=_this.snapShotData.length,_this.datas.data=data,_this.snapShotData.forEach(function(t){_this.durationColors.forEach(function(e){t.occupied||0!==e.end?t.occupied&&t.duration>=e.start&&t.duration<=e.end&&(t.color=e.color):t.color=e.color})}),null!=camera){var i=[],o=[];(i=_this.snapShotData.filter(function(t){return t.camera_id==camera})).slice(0,10).map(function(t,e){o.push(t)}),_this.page=1,_this.total=i.length,_this.datas.data=o}_this.scopeMapData=[],1==_this.selectedView?(_this.tempScopeMapData=_this.objectKeys(_this.mainScopeData.data.cameras[_this.params.cameras[0]].spots),_this.snapShotData.forEach(function(t){_this.tempScopeMapData.forEach(function(e){e.external_id==t.spot_id&&_this.scopeMapData.push(e)})}),_this.imageSize=_this.cameraImageSize,_this.withImage=!0):(_this.snapShotData.forEach(function(t){_this.tempScopeMapData.forEach(function(e){e.spot_id==t.spot_id&&e.camera_id==t.camera_id&&_this.scopeMapData.push(e)})}),_this.imageSize=_this.imageSize,_this.withImage=!1),isLoad||_this.viewChange(_this.selectedView),console.log(_this.scopeMapData),console.log(_this.snapShotData)})]);case 1:return _a.sent(),[3,6];case 2:return null==timeRange?[3,4]:(this.params.timestamp=timeRange,console.log("thenhere"),console.log(this.cameras),isSlider&&(this.params.cameras=this.cameras,this.params.withImage=!1),console.log(this.params),[4,this._realTimeService.getSnapshotData(this.params,isLoad).subscribe(function(res){if(_this.snapShotData=res.data.spot_states,_this.tempSnapShotData=_this.snapShotData,_this.MedianDuration=res.data.median_duration,_this.VacantData=res.data.spot_states.length-res.data.occupiers,_this.OccupiedData=res.data.occupiers,"all"!=_this.status_selected){var data_1=_this.snapShotData.filter(function(element){return element.occupied==eval(_this.status_selected)});data_1.forEach(function(t){_this.durationColors.forEach(function(e){t.occupied||0!==e.end?t.occupied&&t.duration>=e.start&&t.duration<=e.end&&(t.color=e.color):t.color=e.color})}),_this.snapShotData=data_1,_this.total=_this.snapShotData.length,_this.datas.data=data_1}else _this.snapShotData.forEach(function(t){_this.durationColors.forEach(function(e){t.occupied||0!==e.end?t.occupied&&t.duration>=e.start&&t.duration<=e.end&&(t.color=e.color):t.color=e.color})});if(null!=paginator){var StartPageIndex=paginator.pageIndex*paginator.pageSize,endPageIndex=(paginator.pageIndex+1)*paginator.pageSize;_this.snapShotData.slice([StartPageIndex],[endPageIndex]).map(function(t,e){data.push(t)})}else _this.snapShotData.slice([0],[10]).map(function(t,e){data.push(t)}),_this.page=1;_this.total=_this.snapShotData.length,_this.datas.data=data,isSlider&&(console.log("there"),console.log(_this.snapShotData),_this.scopeMapData=_this.tempScopeMapData,console.log(_this.scopeMapData))})]);case 3:return _a.sent(),[3,5];case 4:null!=paginator?(StartPageIndex=paginator.pageIndex*paginator.pageSize,endPageIndex=(paginator.pageIndex+1)*paginator.pageSize,this.snapShotData.slice([StartPageIndex],[endPageIndex]).map(function(t,e){data.push(t)})):(this.snapShotData.slice([0],[10]).map(function(t,e){data.push(t)}),this.page=1),this.total=this.snapShotData.length,this.datas.data=data,_a.label=5;case 5:isLoad||(this.isLoadCamera=!1,this.viewChange(this.selectedView)),_a.label=6;case 6:return[2]}})})},RealtimeComponent.prototype.objectKeys=function(t){return Object.values(t)},RealtimeComponent.prototype.getCurrentTimeStamp=function(){var t=new Date;t.setHours(t.getHours()),t.setMinutes(t.getMinutes()),this.currentTimestamp=Math.floor(new Date(t).getTime()/1e3),this.selectedTime||(this.selectedTime=this.currentTimestamp),this.sliderValue||(this.sliderValue=this.currentTimestamp)},RealtimeComponent.prototype.durationFilter=function(value){return tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter(this,void 0,void 0,function(){var event,data,formattedSanpShotdata,_i,_a,data_2,formattedSnapshotData_1,data_3,formattedSnapshotData_2,formattedScopeData_1,formattedSnapshotData_3,data1,data_4,formattedSnapshotData_4,formattedScopeData_2,_this=this;return tslib__WEBPACK_IMPORTED_MODULE_0__.__generator(this,function(_b){switch(_b.label){case 0:if(event={value:value},1==this.selectedView){for(data=this.objectKeys(this.mainScopeData.data.cameras[this.cameras[this.selectedCamera]].spots),this.scopeMapData=data,formattedSanpShotdata=[],_i=0,_a=this.tempSnapShotData;_i<_a.length;_i++)data_2=_a[_i],this.cameras[this.selectedCamera]===data_2.camera_id&&formattedSanpShotdata.push(data_2);this.snapShotData=formattedSanpShotdata}else this.scopeMapData=this.tempScopeMapData,this.snapShotData=this.tempSnapShotData;return event.value!=_constant_app_constant__WEBPACK_IMPORTED_MODULE_5__.d[0].value?[3,7]:this.status_selected!=_constant_app_constant__WEBPACK_IMPORTED_MODULE_5__.p[0].value?[3,1]:(formattedSnapshotData_1=[],this.snapShotData.slice([0],[10]).map(function(t,e){formattedSnapshotData_1.push(t)}),this.total=this.snapShotData.length,this.datas.data=formattedSnapshotData_1,this.page=1,[3,6]);case 1:return data_3=this.snapShotData.filter(function(element){return element.occupied==eval(_this.status_selected)}),formattedSnapshotData_2=[],formattedScopeData_1=[],data_3.slice([0],[10]).map(function(t,e){formattedSnapshotData_2.push(t)}),1!=this.selectedView?[3,3]:[4,this.scopeMapData.forEach(function(t){data_3.forEach(function(e){e.spot_id==t.external_id&&formattedScopeData_1.push(t)})})];case 2:return _b.sent(),[3,5];case 3:return[4,this.scopeMapData.forEach(function(t){data_3.forEach(function(e){e.spot_id==t.spot_id&&e.camera_id==t.camera_id&&formattedScopeData_1.push(t)})})];case 4:_b.sent(),_b.label=5;case 5:this.snapShotData=data_3,this.scopeMapData=formattedScopeData_1,this.page=1,this.total=data_3.length,this.datas.data=formattedSnapshotData_2,_b.label=6;case 6:return[3,13];case 7:return this.status_selected!=_constant_app_constant__WEBPACK_IMPORTED_MODULE_5__.p[0].value?[3,8]:(formattedSnapshotData_3=[],this.snapShotData.slice([0],[10]).map(function(t,e){formattedSnapshotData_3.push(t)}),this.total=this.snapShotData.length,this.datas.data=formattedSnapshotData_3,this.page=1,[3,13]);case 8:return data1=this.snapShotData.filter(function(element){return element.occupied==eval(_this.status_selected)}),data_4=data1.filter(function(t){return t.duration>event.value}),formattedSnapshotData_4=[],formattedScopeData_2=[],data_4.slice([0],[10]).map(function(t,e){formattedSnapshotData_4.push(t)}),1!=this.selectedView?[3,10]:[4,this.scopeMapData.forEach(function(t){data_4.forEach(function(e){e.spot_id==t.external_id&&formattedScopeData_2.push(t)})})];case 9:return _b.sent(),[3,12];case 10:return[4,this.scopeMapData.forEach(function(t){data_4.forEach(function(e){e.spot_id==t.spot_id&&e.camera_id==t.camera_id&&formattedScopeData_2.push(t)})})];case 11:_b.sent(),_b.label=12;case 12:this.snapShotData=data_4,this.scopeMapData=formattedScopeData_2,this.page=1,this.total=data_4.length,this.datas.data=formattedSnapshotData_4,_b.label=13;case 13:return console.log(this.scopeMapData),console.log(this.snapShotData),[2]}})})},RealtimeComponent.prototype.statusFilter=function(value){return tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter(this,void 0,void 0,function(){var event,data,formattedSanpShotdata,_i,_a,data_5,formattedScopeData_3,formattedScopeData_4,duration,formattedSnapshotData_5,data_6,formattedSnapshotData_6,formattedScopeData_5,_this=this;return tslib__WEBPACK_IMPORTED_MODULE_0__.__generator(this,function(_b){switch(_b.label){case 0:if(event={value:value},this.status_selected=event.value,1!=this.selectedView)return[3,3];for(data=this.objectKeys(this.mainScopeData.data.cameras[this.cameras[this.selectedCamera]].spots),this.scopeMapData=data,formattedSanpShotdata=[],_i=0,_a=this.tempSnapShotData;_i<_a.length;_i++)data_5=_a[_i],this.cameras[this.selectedCamera]===data_5.camera_id&&formattedSanpShotdata.push(data_5);return this.snapShotData=formattedSanpShotdata,"1000"==this.selectedZone?[3,2]:(formattedScopeData_3=[],[4,this.scopeMapData.forEach(function(t){_this.snapShotData.forEach(function(e){e.spot_id==t.external_id&&formattedScopeData_3.push(t)})})]);case 1:_b.sent(),this.scopeMapData=formattedScopeData_3,_b.label=2;case 2:return console.log(this.snapShotData),console.log(this.scopeMapData),[3,7];case 3:return this.snapShotData=this.tempSnapShotData,"1000"!=this.selectedZone?[3,4]:(this.scopeMapData=this.tempScopeMapData,[3,6]);case 4:return formattedScopeData_4=[],[4,this.tempScopeMapData.forEach(function(t){_this.snapShotData.forEach(function(e){e.spot_id==t.spot_id&&e.camera_id==t.camera_id&&formattedScopeData_4.push(t)})})];case 5:_b.sent(),this.scopeMapData=formattedScopeData_4,console.log(this.scopeMapData),console.log(this.snapShotData),_b.label=6;case 6:console.log(this.scopeMapData),console.log(this.snapShotData),console.log(this.selectedZone),_b.label=7;case 7:return duration=document.getElementById("duration"),event.value==_constant_app_constant__WEBPACK_IMPORTED_MODULE_5__.p[1].value?duration.style.display="block":(this.duration_selected="0",duration.style.display="none"),event.value!=_constant_app_constant__WEBPACK_IMPORTED_MODULE_5__.p[0].value?[3,8]:(formattedSnapshotData_5=[],this.snapShotData.slice([0],[10]).map(function(t,e){formattedSnapshotData_5.push(t)}),this.total=this.snapShotData.length,this.datas.data=formattedSnapshotData_5,this.page=1,[3,13]);case 8:return data_6=this.snapShotData.filter(function(element){return element.occupied==eval(event.value)}),formattedSnapshotData_6=[],formattedScopeData_5=[],data_6.slice([0],[10]).map(function(t,e){formattedSnapshotData_6.push(t)}),1!=this.selectedView?[3,10]:[4,this.scopeMapData.forEach(function(t){data_6.forEach(function(e){e.spot_id==t.external_id&&formattedScopeData_5.push(t)})})];case 9:return _b.sent(),[3,12];case 10:return[4,this.scopeMapData.forEach(function(t){data_6.forEach(function(e){e.spot_id==t.spot_id&&e.camera_id==t.camera_id&&formattedScopeData_5.push(t)})})];case 11:_b.sent(),_b.label=12;case 12:this.snapShotData=data_6,this.scopeMapData=formattedScopeData_5,this.page=1,this.total=data_6.length,this.datas.data=formattedSnapshotData_6,console.log(this.scopeMapData),console.log(this.snapShotData),_b.label=13;case 13:return[2]}})})},RealtimeComponent.prototype.getPrevious24Hours=function(){var t=new Date;t.setDate(t.getDate()-1),t.setHours(t.getHours()),t.setMinutes(t.getMinutes()),this.previousTimestamp=Math.floor(new Date(t).getTime()/1e3)},RealtimeComponent.prototype.sliderData=function(t){console.log(this.selectedFloor),console.log(_constant_app_constant__WEBPACK_IMPORTED_MODULE_5__.e),console.log(this.withImage),_constant_app_constant__WEBPACK_IMPORTED_MODULE_5__.e[this.selectedFloor]==_constant_app_constant__WEBPACK_IMPORTED_MODULE_5__.e[0]?(this.disableZone=!1,this.selectedZone="1000"):(this.disableZone=!0,this.selectedZone="1000"),this.status_selected="all",this.duration_selected="0",this.selectedView="0",this.selectedMap="0",this.selectedCamera="0",this.IMAGE_SRC=this.tempImageSrc,this.imageSize=this.tempImageSize,this.withImage=!1,document.getElementById("cameras").style.display="none",document.getElementById("duration").style.display="none",this.selectedTime=t.value,this.sliderValue=this.selectedTime,this.snapShotData=[],this.scopeMapData=[],console.log(this.snapShotData),console.log(this.scopeMapData),this.getSnapshotData(void 0,t.value,void 0,!0)},RealtimeComponent.prototype.openMapDialog=function(){this.dialog.open(_dialog_mapview_mapview_component__WEBPACK_IMPORTED_MODULE_6__.a,{width:this.imageSize.width+100,height:this.imageSize.height,data:{snapShotdata:this.snapShotData,size:this.imageSize,scopedata:this.scopeMapData,imageUrl:this.IMAGE_SRC,withImage:this.withImage}}).afterClosed().subscribe(function(t){})},RealtimeComponent.prototype.getLocations=function(t){return tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter(this,void 0,void 0,function(){var e=this;return tslib__WEBPACK_IMPORTED_MODULE_0__.__generator(this,function(n){switch(n.label){case 0:return this.mainScopeData=void 0,this.selectedView=void 0,this.selectedMap="0",[4,this._realTimeService.getLocations().subscribe(function(n){var a,i;e.locationsData=n.data.locations,console.log(e.locationsData),e.selectedFloor="0",null==t?(e.floorsData=e.locationsData[0].floors,e.zonesData=e.floorsData[0].zones,e.user=e.locationsData[0].user,e.user_password=e.locationsData[0].password,e.buildingUrl=e.locationsData[0].parqueryValue,e.IMAGE_SRC=e.locationsData[0].floors[0].parqueryValue,a=e.locationsData[0].floors[0].name,i=e.locationsData[0].floors[0].value):(e.floorsData=e.locationsData[t].floors,e.zonesData=e.floorsData[0].zones,e.user=e.locationsData[t].user,e.user_password=e.locationsData[t].password,e.buildingUrl=e.locationsData[t].parqueryValue,e.IMAGE_SRC=e.locationsData[t].floors[0].parqueryValue,a=e.locationsData[t].floors[0].name,i=e.locationsData[t].floors[0].value),e.tempImageSrc=e.IMAGE_SRC;var o={user:e.user,password:e.user_password,buildingUrl:e.buildingUrl,floor:a,floorValue:i,withImage:!0,zone:""};e.disableZone=!1,e.selectedZone="1000",e.params=o,e.getScopeData()})];case 1:return n.sent(),[2]}})})},RealtimeComponent.prototype.getFloors=function(t){var e={value:t};this.scopeMapData=[],this.status_selected="all",this.duration_selected="0";var n=document.getElementById("cameras");document.getElementById("duration").style.display="none",n.style.display="none",this.floorsData=this.locationsData[e.value].floors,this.user=this.locationsData[e.value].user,this.user_password=this.locationsData[e.value].password,this.buildingUrl=this.locationsData[e.value].parqueryValue,this.withImage=!1,this.getLocations(e.value)},RealtimeComponent.prototype.getMapData=function(t){var e=t;this.status_selected="all",this.duration_selected="0",document.getElementById("duration").style.display="none",this.IMAGE_SRC=this.floorsData[e].parqueryValue,this.tempImageSrc=this.IMAGE_SRC,document.getElementById("cameras").style.display="none",this.selectedView=void 0,this.selectedMap="0",this.zonesData=this.floorsData[e].zones;var n={user:this.user,password:this.user_password,buildingUrl:this.buildingUrl,floor:this.floorsData[e].name,floorValue:this.floorsData[e].value,withImage:!1,zone:""};console.log(this.params),this.params=n,this.getScopeData()},RealtimeComponent.prototype.getZonesData=function(t){var e={value:t};console.log(e),console.log(typeof this.selectedView),this.status_selected="all",this.duration_selected="0",this.selectedView="0",this.selectedMap="0",this.selectedCamera="0",this.IMAGE_SRC=this.tempImageSrc,this.imageSize=this.tempImageSize;var n=document.getElementById("cameras");document.getElementById("duration").style.display="none",n.style.display="none","1000"==e.value?(this.params.zone="",this.getScopeData()):(this.params.zone=this.zonesData[e.value].parqueryValue,this.getScopeData())},RealtimeComponent.prototype.viewChange=function(t){return tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter(this,void 0,void 0,function(){var e,n,a,i,o,s,r=this;return tslib__WEBPACK_IMPORTED_MODULE_0__.__generator(this,function(l){return e={value:t},console.log(e),n=document.getElementById("status"),this.selectedView=e.value,a=document.getElementById("cameras"),_constant_app_constant__WEBPACK_IMPORTED_MODULE_5__.r[e.value].value==_constant_app_constant__WEBPACK_IMPORTED_MODULE_5__.r[0].value?(a.style.display="none",this.IMAGE_SRC=this.tempImageSrc,this.imageSize=this.tempImageSize,this.snapShotData=this.tempSnapShotData,console.log(this.snapShotData),this.scopeMapData=[],[],console.log(this.mainScopeData.data),i=this.objectKeys(this.mainScopeData.data.visual_plans[this.floorName].spots),this.scopeMapData=i,this.VacantData=this.overallData.available,this.OccupiedData=this.overallData.occupied,this.withImage=!1,this.params.withImage=!1,n.style.display="block","all"!=this.status_selected?this.durationFilter(this.duration_selected):(o=[],this.snapShotData.slice([0],[10]).map(function(t,e){o.push(t)}),this.datas.data=o,this.total=this.snapShotData.length,this.page=1)):("all"!=this.status_selected&&(this.snapShotData=this.tempSnapShotData,this.scopeMapData=this.tempScopeMapData),a.style.display="block",console.log(this.snapShotData),s=[],this.cameraScopeData.forEach(function(t){r.snapShotData.forEach(function(e){t.external_id===e.spot_id&&s.push(t)})}),console.log(this.snapShotData),this.total=s.length,this.scopeMapData=s,this.imageSize=this.cameraImageSize,this.withImage=!0,this.params.withImage=!0,this.params.cameras=[this.cameras[0]],this.selectedCamera="0",this.getSnapshotCameraImage(this.isLoadCamera)),[2]})})},RealtimeComponent.prototype.cameraChange=function(t){return tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter(this,void 0,void 0,function(){var e;return tslib__WEBPACK_IMPORTED_MODULE_0__.__generator(this,function(n){switch(n.label){case 0:return e={value:t},1!=this.selectedView?[3,1]:(this.imageSize=this.cameraImageSize,this.scopeMapData=this.cameraScopeData,this.withImage=!0,this.scopeMapData=[],this.params.withImage=!0,this.params.cameras=[this.cameras[e.value]],this.getSnapshotCameraImage(!0),[3,3]);case 1:return this.view=_constant_app_constant__WEBPACK_IMPORTED_MODULE_5__.r,this.snapShotData=void 0,this.withImage=!0,this.IMAGE_SRC=this.tempImageSrc,this.imageSize=this.tempImageSize,this.selectedMap="0",[4,this.getScopeData(this.cameras[e.value])];case 2:n.sent(),n.label=3;case 3:return[2]}})})},RealtimeComponent.prototype.getSnapshotCameraImage=function(isLoad){return tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter(this,void 0,void 0,function(){var _this=this;return tslib__WEBPACK_IMPORTED_MODULE_0__.__generator(this,function(_a){switch(_a.label){case 0:return[4,this._realTimeService.getSnapshotData(this.params,isLoad).subscribe(function(res){_this.isLoadCamera=!0,_this.IMAGE_SRC="data:image/png;base64,"+res.data.image,_this.snapShotData=res.data.spot_states,_this.datas.data=_this.snapShotData,_this.total=_this.snapShotData.length,_this.page=1,_this.VacantData=res.data.spot_states.length-res.data.occupiers,_this.OccupiedData=res.data.occupiers;var formattedSnapshotData=[],data=_this.objectKeys(_this.mainScopeData.data.cameras[_this.params.cameras[0]].spots);if(_this.scopeMapData=data,_this.snapShotData.slice([0],[10]).map(function(t,e){formattedSnapshotData.push(t)}),_this.total=_this.snapShotData.length,_this.datas.data=formattedSnapshotData,_this.status_selected==_constant_app_constant__WEBPACK_IMPORTED_MODULE_5__.p[0].value){var formattedSnapshotData_7=[];_this.snapShotData.slice([0],[10]).map(function(t,e){formattedSnapshotData_7.push(t)});var formattedScopeData_6=[];_this.scopeMapData.forEach(function(t){_this.snapShotData.forEach(function(e){e.spot_id==t.external_id&&formattedScopeData_6.push(t)})}),_this.total=_this.snapShotData.length,_this.datas.data=formattedSnapshotData_7,_this.page=1,_this.scopeMapData=formattedScopeData_6,console.log(_this.scopeMapData)}else{var data1=_this.snapShotData.filter(function(element){return element.occupied==eval(_this.status_selected)}),data_9;data_9=_this.duration_selected==_constant_app_constant__WEBPACK_IMPORTED_MODULE_5__.d[0].value?data1:data1.filter(function(t){return t.duration>_this.duration_selected});var formattedSnapshotData_8=[],formattedScopeData_7=[];data_9.slice([0],[10]).map(function(t,e){formattedSnapshotData_8.push(t)}),1==_this.selectedView?_this.scopeMapData.forEach(function(t){data_9.forEach(function(e){e.spot_id==t.external_id&&formattedScopeData_7.push(t)})}):_this.scopeMapData.forEach(function(t){data_9.forEach(function(e){e.spot_id==t.spot_id&&e.camera_id==t.camera_id&&formattedScopeData_7.push(t)})}),_this.snapShotData=data_9,_this.scopeMapData=formattedScopeData_7,_this.total=data_9.length,_this.datas.data=formattedSnapshotData_8,_this.page=1}_this.snapShotData.sort(function(t,e){return t.spot_id-e.spot_id}),_this.snapShotData.forEach(function(t){_this.durationColors.forEach(function(e){t.occupied||0!==e.end?t.occupied&&t.duration>=e.start&&t.duration<=e.end&&(t.color=e.color):t.color=e.color})}),console.log(_this.snapShotData),console.log(_this.scopeMapData)})];case 1:return _a.sent(),[2]}})})},RealtimeComponent.prototype.downloadVideo=function(){return tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter(this,void 0,void 0,function(){var t,e=this;return tslib__WEBPACK_IMPORTED_MODULE_0__.__generator(this,function(n){switch(n.label){case 0:return(t=new FormData).append("camera_id","cotesa-384"),t.append("spot_id","9"),t.append("from_timestamp","1599223000"),t.append("to_timestamp","1599223963"),[4,this._realTimeService.downloadVideo(t).subscribe(function(t){return e.downloadFile(t)})];case 1:return n.sent(),[2]}})})},RealtimeComponent.prototype.downloadFile=function(t){var e=new Blob([t],{type:"video/mov"}),n=window.URL.createObjectURL(e);window.open(n)},RealtimeComponent.prototype.notify=function(t){var e=this,n={title:src_app_constant_messages__WEBPACK_IMPORTED_MODULE_8__.e.confrim,message:src_app_constant_messages__WEBPACK_IMPORTED_MODULE_8__.e.notify,yes:src_app_constant_messages__WEBPACK_IMPORTED_MODULE_8__.e.yes};this._utilityService.openDialog(n).subscribe(function(t){if(t){var n={audience:_constant_app_constant__WEBPACK_IMPORTED_MODULE_5__.j[0].value,message:src_app_constant_messages__WEBPACK_IMPORTED_MODULE_8__.d,scheduleType:_constant_app_constant__WEBPACK_IMPORTED_MODULE_5__.m,title:src_app_constant_messages__WEBPACK_IMPORTED_MODULE_8__.d,single:!0,vehicleId:"MP09AB0044"};e._realTimeService.sendUserNotification(n).subscribe(function(t){console.log(t),e._utilityService.showAlert(t.message)})}})},RealtimeComponent.prototype.getLongDuration=function(){var t=this;this._realTimeService.getLongDuration().subscribe(function(e){t.longHours=e.data.companyData.config.duration,t.longHours=60*t.longHours*60})},RealtimeComponent.prototype.openImageModal=function(t,e){console.log(e.duration);var n,a=document.getElementById("myModal");n=document.getElementById("img01");var i=document.getElementById("caption");a.style.display="block",n.src="data:image/png;base64,"+t,i.innerHTML=e.duration?"Spot - "+e.spot_id+"("+this.secondsToHourPipe.transform(e.duration)+")":"Spot - "+e.spot_id,document.getElementsByClassName("modal")[0].onclick=function(){a.style.display="none"}},RealtimeComponent.ctorParameters=function(){return[{type:_service_realtime_service__WEBPACK_IMPORTED_MODULE_4__.a},{type:_angular_material_dialog__WEBPACK_IMPORTED_MODULE_7__.b},{type:src_app_modules_shared_services_utility_service__WEBPACK_IMPORTED_MODULE_9__.a},{type:src_app_pipes_seconds_to_hours_seconds_to_hours_pipe__WEBPACK_IMPORTED_MODULE_10__.a}]},RealtimeComponent=tslib__WEBPACK_IMPORTED_MODULE_0__.__decorate([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"app-realtime",template:__webpack_require__("pzWO"),providers:[src_app_pipes_seconds_to_hours_seconds_to_hours_pipe__WEBPACK_IMPORTED_MODULE_10__.a],styles:[__webpack_require__("Asns")]}),tslib__WEBPACK_IMPORTED_MODULE_0__.__metadata("design:paramtypes",[_service_realtime_service__WEBPACK_IMPORTED_MODULE_4__.a,_angular_material_dialog__WEBPACK_IMPORTED_MODULE_7__.b,src_app_modules_shared_services_utility_service__WEBPACK_IMPORTED_MODULE_9__.a,src_app_pipes_seconds_to_hours_seconds_to_hours_pipe__WEBPACK_IMPORTED_MODULE_10__.a])],RealtimeComponent),RealtimeComponent}(_models_pagination__WEBPACK_IMPORTED_MODULE_2__.a)},"0NUV":function(t,e,n){"use strict";var a=this&&this.__decorate||function(t,e,n,a){var i,o=arguments.length,s=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,a);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var o=n("DtyJ"),s=n("CcnG");e.LIGHTBOX_EVENT={CHANGE_PAGE:1,CLOSE:2,OPEN:3,ZOOM_IN:4,ZOOM_OUT:5,ROTATE_LEFT:6,ROTATE_RIGHT:7};var r=function(){function t(){this._lightboxEventSource=new o.Subject,this.lightboxEvent$=this._lightboxEventSource.asObservable()}return t.prototype.broadcastLightboxEvent=function(t){this._lightboxEventSource.next(t)},t=a([s.Injectable(),i("design:paramtypes",[])],t)}();e.LightboxEvent=r;var l=function(){function t(){}return Object.defineProperty(t.prototype,"nativeWindow",{get:function(){return window},enumerable:!0,configurable:!0}),t=a([s.Injectable()],t)}();e.LightboxWindowRef=l},Asns:function(t,e){t.exports='.flex_row {\n  display: flex;\n  margin: 0 -10px;\n  align-items: center;\n}\n\n.flex_row_sub {\n  display: flex;\n  margin: 0 -10px;\n  align-items: top;\n  padding: 10px;\n}\n\n.flex_row_sub_test {\n  display: flex;\n  margin: 0 -10px;\n  align-items: center;\n  padding: 10px;\n}\n\n.flex_row {\n  height: 100vh;\n}\n\n.tab-table {\n  margin: 20px 0 0 0;\n}\n\n#img_container_dash {\n  position: relative;\n  overflow: auto;\n  margin-left: 0px;\n}\n\n:host ::ng-deep .btn_wrapper li:first-child {\n  margin-top: 0;\n}\n\n.pointer_green {\n  position: absolute;\n  width: 15px;\n  height: 15px;\n  border-radius: 10px;\n  color: black;\n  cursor: pointer;\n  background: #86bc24;\n  display: block;\n}\n\n.pointer_red {\n  position: absolute;\n  width: 15px;\n  height: 15px;\n  border-radius: 10px;\n  color: black;\n  cursor: pointer;\n  background: red;\n  display: block;\n}\n\n.pointer_green_status {\n  width: 15px;\n  height: 15px;\n  border-radius: 10px;\n  color: black;\n  cursor: pointer;\n  background: #86bc24;\n  display: block;\n  border: 2px solid black;\n}\n\n.pointer_red_status {\n  width: 15px;\n  height: 15px;\n  border-radius: 10px;\n  color: black;\n  cursor: pointer;\n  background: red;\n  display: block;\n  border: 2px solid black;\n}\n\n.pointer_colors {\n  width: 15px;\n  height: 15px;\n  border-radius: 10px;\n  color: black;\n  border: 2px solid black;\n  background: #86bc24;\n  display: block;\n}\n\n.margin_top_20 {\n  margin-top: 20px;\n}\n\n.alignRight {\n  margin-left: auto;\n}\n\n.alignLeft {\n  margin-right: auto;\n}\n\n.flex {\n  display: flex;\n}\n\n.image_overflow {\n  overflow: auto;\n  cursor: pointer;\n}\n\nmat-slider {\n  width: 100%;\n  height: 0px;\n  position: initial;\n}\n\n.tooltip-realtime {\n  position: absolute;\n  display: inline-block;\n  border: 2px solid black;\n}\n\n.tooltip-realtime .tooltiptext-realtime {\n  visibility: hidden;\n  width: 250px;\n  background-color: #555;\n  color: #fff !important;\n  text-align: left;\n  border-radius: 6px;\n  padding: 10px 10px;\n  position: absolute;\n  z-index: 1;\n  bottom: 125%;\n  left: 0%;\n  font-size: 12px;\n  margin-left: -60px;\n  opacity: 0;\n  transition: opacity 0.3s;\n}\n\n.tooltip-realtime .tooltiptext-realtime::after {\n  content: "";\n  position: absolute;\n  top: 100%;\n  left: 45%;\n  margin-left: -5px;\n  border-width: 5px;\n  font-size: 12px;\n  border-style: solid;\n  border-color: #555 transparent transparent transparent;\n}\n\n.tooltip-realtime:hover .tooltiptext-realtime {\n  visibility: visible;\n  opacity: 1;\n}\n\n.complete-align {\n  padding-left: 20px;\n  padding-right: 20px;\n}\n\n.text-muted {\n  color: #7a7878 !important;\n}\n\n.col-2 {\n  padding-left: 0 !important;\n}\n\n@media (min-width: 1200px) {\n  .col-xl {\n    flex-basis: 0;\n    flex-grow: 1;\n    max-width: 50%;\n  }\n}\n\n#myImg {\n  border-radius: 5px;\n  cursor: pointer;\n  transition: 0.3s;\n}\n\n#myImg:hover {\n  opacity: 0.7;\n}\n\n/* The Modal (background) */\n\n.modal {\n  display: none;\n  /* Hidden by default */\n  position: fixed;\n  /* Stay in place */\n  z-index: 1000;\n  /* Sit on top */\n  padding-top: 100px;\n  /* Location of the box */\n  left: 0;\n  top: 0;\n  width: 100%;\n  /* Full width */\n  height: 100%;\n  /* Full height */\n  overflow: auto;\n  /* Enable scroll if needed */\n  background-color: black;\n  /* Fallback color */\n  background-color: rgba(0, 0, 0, 0.9);\n  /* Black w/ opacity */\n}\n\n/* Modal Content (image) */\n\n.modal-content {\n  margin: auto;\n  display: block;\n  width: 80%;\n  height: 80%;\n  max-width: 700px;\n}\n\n/* Caption of Modal Image */\n\n#caption {\n  margin: auto;\n  display: block;\n  width: 80%;\n  max-width: 700px;\n  text-align: center;\n  color: #ccc;\n  padding: 10px 0;\n  height: 150px;\n}\n\n/* Add Animation */\n\n.modal-content, #caption {\n  -webkit-animation-name: zoom;\n  -webkit-animation-duration: 0.6s;\n  animation-name: zoom;\n  animation-duration: 0.6s;\n}\n\n@-webkit-keyframes zoom {\n  from {\n    -webkit-transform: scale(0);\n  }\n  to {\n    -webkit-transform: scale(1);\n  }\n}\n\n@keyframes zoom {\n  from {\n    -webkit-transform: scale(0);\n            transform: scale(0);\n  }\n  to {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n}\n\n/* The Close Button */\n\n.close {\n  position: absolute;\n  top: 15px;\n  right: 35px;\n  color: #f1f1f1;\n  font-size: 40px;\n  font-weight: bold;\n  transition: 0.3s;\n}\n\n.close:hover,\n.close:focus {\n  color: #bbb;\n  text-decoration: none;\n  cursor: pointer;\n}\n\n/* 100% Image Width on Smaller Screens */\n\n@media only screen and (max-width: 700px) {\n  .modal-content {\n    width: 100%;\n  }\n}'},DoSW:function(t,e,n){"use strict";var a=this&&this.__decorate||function(t,e,n,a){var i,o=arguments.length,s=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,a);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var o=n("CcnG"),s=n("kmun"),r=n("luWi"),l=n("0NUV"),c=n("E1+c"),d=function(){function t(t,e,n,a,i){this._componentFactoryResolver=t,this._injector=e,this._applicationRef=n,this._lightboxConfig=a,this._lightboxEvent=i,this._documentRef=window.document}return t.prototype.open=function(t,e,n){var a=this;void 0===e&&(e=0),void 0===n&&(n={});var i=this._createComponent(c.LightboxOverlayComponent),o=this._createComponent(s.LightboxComponent),r={};this._lightboxEvent.broadcastLightboxEvent({id:l.LIGHTBOX_EVENT.OPEN}),Object.assign(r,this._lightboxConfig,n),o.instance.album=t,o.instance.currentImageIndex=e,o.instance.options=r,o.instance.cmpRef=o,i.instance.options=r,i.instance.cmpRef=i,setTimeout(function(){a._applicationRef.attachView(i.hostView),a._applicationRef.attachView(o.hostView),i.onDestroy(function(){a._applicationRef.detachView(i.hostView)}),o.onDestroy(function(){a._applicationRef.detachView(o.hostView)}),a._documentRef.querySelector("body").appendChild(i.location.nativeElement),a._documentRef.querySelector("body").appendChild(o.location.nativeElement)})},t.prototype.close=function(){this._lightboxEvent&&this._lightboxEvent.broadcastLightboxEvent({id:l.LIGHTBOX_EVENT.CLOSE})},t.prototype._createComponent=function(t){return this._componentFactoryResolver.resolveComponentFactory(t).create(this._injector)},t=a([o.Injectable(),i("design:paramtypes",[o.ComponentFactoryResolver,o.Injector,o.ApplicationRef,r.LightboxConfig,l.LightboxEvent])],t)}();e.Lightbox=d},DtyJ:function(t,e,n){"use strict";n.r(e);var a=n("6blF"),i=n("KhEm"),o=n("mrSG"),s=n("FFOo"),r=n("pugT"),l=n("K9Ia");s.a;var c=function(t){function e(e,n,a){var i=t.call(this,n)||this;return i.key=e,i.group=n,i.parent=a,i}return o.__extends(e,t),e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this.parent,e=this.key;this.key=this.parent=null,t&&t.removeGroup(e)},e}(s.a),d=function(t){function e(e,n,a){var i=t.call(this)||this;return i.key=e,i.groupSubject=n,i.refCountSubscription=a,i}return o.__extends(e,t),e.prototype._subscribe=function(t){var e=new r.a,n=this.refCountSubscription,a=this.groupSubject;return n&&!n.closed&&e.add(new p(n)),e.add(a.subscribe(t)),e},e}(a.a),p=function(t){function e(e){var n=t.call(this)||this;return n.parent=e,e.count++,n}return o.__extends(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(r.a),h=n("xTla"),u=n("26FU"),m=n("S5bw"),_=n("svcd"),g=n("KQya"),f=n("T1DM"),v=n("zo3G"),b=n("tHPV"),D=n("h9Dq"),y=function(t){function e(e,n){void 0===e&&(e=S),void 0===n&&(n=Number.POSITIVE_INFINITY);var a=t.call(this,e,function(){return a.frame})||this;return a.maxFrames=n,a.frame=0,a.index=-1,a}return o.__extends(e,t),e.prototype.flush=function(){for(var t,e,n=this.actions,a=this.maxFrames;(e=n[0])&&e.delay<=a&&(n.shift(),this.frame=e.delay,!(t=e.execute(e.state,e.delay))););if(t){for(;e=n.shift();)e.unsubscribe();throw t}},e.frameTimeFactor=10,e}(n("CS9Q").a),S=function(t){function e(e,n,a){void 0===a&&(a=e.index+=1);var i=t.call(this,e,n)||this;return i.scheduler=e,i.work=n,i.index=a,i.active=!0,i.index=e.index=a,i}return o.__extends(e,t),e.prototype.schedule=function(n,a){if(void 0===a&&(a=0),!this.id)return t.prototype.schedule.call(this,n,a);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(n,a)},e.prototype.requestAsyncId=function(t,n,a){void 0===a&&(a=0),this.delay=t.frame+a;var i=t.actions;return i.push(this),i.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,e,n){void 0===n&&(n=0)},e.prototype._execute=function(e,n){if(!0===this.active)return t.prototype._execute.call(this,e,n)},e.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},e}(D.a),x=n("siIJ"),E=n("60iU"),w=n("y3By"),I=n("+umK"),C=n("mChF");function M(t){return!!t&&(t instanceof a.a||"function"==typeof t.lift&&"function"==typeof t.subscribe)}var O=n("b7mW"),R=n("3fWJ"),T=n("8g8A"),L=n("awvh"),P=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),k=n("67Y/"),A=n("1fDf"),B=n("isby"),V=n("nkY7");function N(t,e,n){if(e){if(!Object(V.a)(e))return function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];return N(t,n).apply(void 0,a).pipe(Object(k.a)(function(t){return Object(B.a)(t)?e.apply(void 0,t):e(t)}))};n=e}return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var o,s=this,r={context:s,subject:o,callbackFunc:t,scheduler:n};return new a.a(function(a){if(n){var i={args:e,subscriber:a,params:r};return n.schedule(j,0,i)}if(!o){o=new _.a;try{t.apply(s,e.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.next(t.length<=1?t[0]:t),o.complete()}]))}catch(l){Object(A.a)(o)?o.error(l):console.warn(l)}}return o.subscribe(a)})}}function j(t){var e=this,n=t.args,a=t.subscriber,i=t.params,o=i.callbackFunc,s=i.context,r=i.scheduler,l=i.subject;if(!l){l=i.subject=new _.a;try{o.apply(s,n.concat([function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var a=t.length<=1?t[0]:t;e.add(r.schedule(z,0,{value:a,subject:l}))}]))}catch(c){l.error(c)}}this.add(l.subscribe(a))}function z(t){var e=t.value,n=t.subject;n.next(e),n.complete()}function W(t,e,n){if(e){if(!Object(V.a)(e))return function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];return W(t,n).apply(void 0,a).pipe(Object(k.a)(function(t){return Object(B.a)(t)?e.apply(void 0,t):e(t)}))};n=e}return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var o={subject:void 0,args:e,callbackFunc:t,scheduler:n,context:this};return new a.a(function(a){var i=o.context,s=o.subject;if(n)return n.schedule(U,0,{params:o,subscriber:a,context:i});if(!s){s=o.subject=new _.a;try{t.apply(i,e.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.shift();n?s.error(n):(s.next(t.length<=1?t[0]:t),s.complete())}]))}catch(r){Object(A.a)(s)?s.error(r):console.warn(r)}}return s.subscribe(a)})}}function U(t){var e=this,n=t.params,a=t.subscriber,i=t.context,o=n.callbackFunc,s=n.args,r=n.scheduler,l=n.subject;if(!l){l=n.subject=new _.a;try{o.apply(i,s.concat([function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var a=t.shift();if(a)e.add(r.schedule(K,0,{err:a,subject:l}));else{var i=t.length<=1?t[0]:t;e.add(r.schedule(H,0,{value:i,subject:l}))}}]))}catch(c){this.add(r.schedule(K,0,{err:c,subject:l}))}}this.add(l.subscribe(a))}function H(t){var e=t.value,n=t.subject;n.next(e),n.complete()}function K(t){var e=t.err;t.subject.error(e)}var F=n("dzgT"),G=n("dEwP"),Z=n("lYZG"),q=n("G5J1"),$=n("VNr4"),X=n("0/uQ"),J=n("bne5"),Y=n("2Bdj");function Q(t,e,n){return n?Q(t,e).pipe(Object(k.a)(function(t){return Object(B.a)(t)?n.apply(void 0,t):n(t)})):new a.a(function(n){var a,i=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n.next(1===t.length?t[0]:t)};try{a=t(i)}catch(o){return void n.error(o)}if(Object(Y.a)(e))return function(){return e(i,a)}})}function tt(t,e,n,i,o){var s,r;if(1==arguments.length){var l=t;r=l.initialState,e=l.condition,n=l.iterate,s=l.resultSelector||C.a,o=l.scheduler}else void 0===i||Object(V.a)(i)?(r=t,s=C.a,o=i):(r=t,s=i);return new a.a(function(t){var a=r;if(o)return o.schedule(et,0,{subscriber:t,iterate:n,condition:e,resultSelector:s,state:a});for(;;){if(e){var i=void 0;try{i=e(a)}catch(c){return void t.error(c)}if(!i){t.complete();break}}var l=void 0;try{l=s(a)}catch(c){return void t.error(c)}if(t.next(l),t.closed)break;try{a=n(a)}catch(c){return void t.error(c)}}})}function et(t){var e=t.subscriber,n=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(o){return void e.error(o)}else t.needIterate=!0;if(n){var a=void 0;try{a=n(t.state)}catch(o){return void e.error(o)}if(!a)return void e.complete();if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(o){return void e.error(o)}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function nt(t,e,n){return void 0===e&&(e=q.a),void 0===n&&(n=q.a),Object(Z.a)(function(){return t()?e:n})}var at=n("xXU7"),it=n("p0ib"),ot=new a.a(I.a);function st(){return ot}var rt=n("F/XL");function lt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return q.a;var n=t[0],i=t.slice(1);return 1===t.length&&Object(B.a)(n)?lt.apply(void 0,n):new a.a(function(t){var e=function(){return t.add(lt.apply(void 0,i).subscribe(t))};return Object(X.a)(n).subscribe({next:function(e){t.next(e)},error:e,complete:e})})}function ct(t,e){return e?new a.a(function(n){var a=Object.keys(t),i=new r.a;return i.add(e.schedule(dt,0,{keys:a,index:0,subscriber:n,subscription:i,obj:t})),i}):new a.a(function(e){for(var n=Object.keys(t),a=0;a<n.length&&!e.closed;a++){var i=n[a];t.hasOwnProperty(i)&&e.next([i,t[i]])}e.complete()})}function dt(t){var e=t.keys,n=t.index,a=t.subscriber,i=t.subscription,o=t.obj;if(!a.closed)if(n<e.length){var s=e[n];a.next([s,o[s]]),i.add(this.schedule({keys:e,index:n+1,subscriber:a,subscription:i,obj:o}))}else a.complete()}function pt(t,e){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=t,n.thisArg=e,n}var ht=n("Fxb1"),ut=n("VnD/");function mt(t,e,n){return[Object(ut.a)(e,n)(new a.a(Object(ht.a)(t))),Object(ut.a)(pt(e,n))(new a.a(Object(ht.a)(t)))]}var _t=n("IUTb"),gt=n("MGBS"),ft=n("zotm");function vt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){if(!Object(B.a)(t[0]))return t[0];t=t[0]}return Object(_t.a)(t,void 0).lift(new bt)}var bt=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new Dt(t))},t}(),Dt=function(t){function e(e){var n=t.call(this,e)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return o.__extends(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var a=t[n],i=Object(ft.a)(this,a,a,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},e.prototype.notifyNext=function(t,e,n,a,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==n){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(e)},e}(gt.a);function yt(t,e,n){return void 0===t&&(t=0),new a.a(function(a){void 0===e&&(e=t,t=0);var i=0,o=t;if(n)return n.schedule(St,0,{index:i,count:e,start:t,subscriber:a});for(;;){if(i++>=e){a.complete();break}if(a.next(o++),a.closed)break}})}function St(t){var e=t.start,n=t.index,a=t.count,i=t.subscriber;n>=a?i.complete():(i.next(e),i.closed||(t.index=n+1,t.start=e+1,this.schedule(t)))}var xt=n("XlPw"),Et=n("gI3B");function wt(t,e){return new a.a(function(n){var a,i;try{a=t()}catch(s){return void n.error(s)}try{i=e(a)}catch(s){return void n.error(s)}var o=(i?Object(X.a)(i):q.a).subscribe(n);return function(){o.unsubscribe(),a&&a.unsubscribe()}})}var It=n("En8+");function Ct(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return"function"==typeof n&&t.pop(),Object(_t.a)(t,void 0).lift(new Mt(n))}var Mt=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new Ot(t,this.resultSelector))},t}(),Ot=function(t){function e(e,n,a){void 0===a&&(a=Object.create(null));var i=t.call(this,e)||this;return i.iterators=[],i.active=0,i.resultSelector="function"==typeof n?n:null,i.values=a,i}return o.__extends(e,t),e.prototype._next=function(t){var e=this.iterators;Object(B.a)(t)?e.push(new Tt(t)):"function"==typeof t[It.a]?e.push(new Rt(t[It.a]())):e.push(new Lt(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var n=0;n<e;n++){var a=t[n];if(a.stillUnsubscribed)this.destination.add(a.subscribe(a,n));else this.active--}}else this.destination.complete()},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,n=this.destination,a=0;a<e;a++){if("function"==typeof(s=t[a]).hasValue&&!s.hasValue())return}var i=!1,o=[];for(a=0;a<e;a++){var s,r=(s=t[a]).next();if(s.hasCompleted()&&(i=!0),r.done)return void n.complete();o.push(r.value)}this.resultSelector?this._tryresultSelector(o):n.next(o),i&&n.complete()},e.prototype._tryresultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(s.a),Rt=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),Tt=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[It.a]=function(){return this},t.prototype.next=function(t){var e=this.index++,n=this.array;return e<this.length?{value:n[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),Lt=function(t){function e(e,n,a){var i=t.call(this,e)||this;return i.parent=n,i.observable=a,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return o.__extends(e,t),e.prototype[It.a]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,n,a,i){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return Object(ft.a)(this,this.observable,this,e)},e}(gt.a),Pt=n("i4X3"),kt=n("iLxQ");n.d(e,"Observable",function(){return a.a}),n.d(e,"ConnectableObservable",function(){return i.a}),n.d(e,"GroupedObservable",function(){return d}),n.d(e,"observable",function(){return h.a}),n.d(e,"Subject",function(){return l.a}),n.d(e,"BehaviorSubject",function(){return u.a}),n.d(e,"ReplaySubject",function(){return m.a}),n.d(e,"AsyncSubject",function(){return _.a}),n.d(e,"asapScheduler",function(){return g.a}),n.d(e,"asyncScheduler",function(){return f.a}),n.d(e,"queueScheduler",function(){return v.a}),n.d(e,"animationFrameScheduler",function(){return b.a}),n.d(e,"VirtualTimeScheduler",function(){return y}),n.d(e,"VirtualAction",function(){return S}),n.d(e,"Scheduler",function(){return x.a}),n.d(e,"Subscription",function(){return r.a}),n.d(e,"Subscriber",function(){return s.a}),n.d(e,"Notification",function(){return E.a}),n.d(e,"NotificationKind",function(){return E.b}),n.d(e,"pipe",function(){return w.a}),n.d(e,"noop",function(){return I.a}),n.d(e,"identity",function(){return C.a}),n.d(e,"isObservable",function(){return M}),n.d(e,"ArgumentOutOfRangeError",function(){return O.a}),n.d(e,"EmptyError",function(){return R.a}),n.d(e,"ObjectUnsubscribedError",function(){return T.a}),n.d(e,"UnsubscriptionError",function(){return L.a}),n.d(e,"TimeoutError",function(){return P}),n.d(e,"bindCallback",function(){return N}),n.d(e,"bindNodeCallback",function(){return W}),n.d(e,"combineLatest",function(){return F.a}),n.d(e,"concat",function(){return G.a}),n.d(e,"defer",function(){return Z.a}),n.d(e,"empty",function(){return q.b}),n.d(e,"forkJoin",function(){return $.a}),n.d(e,"from",function(){return X.a}),n.d(e,"fromEvent",function(){return J.a}),n.d(e,"fromEventPattern",function(){return Q}),n.d(e,"generate",function(){return tt}),n.d(e,"iif",function(){return nt}),n.d(e,"interval",function(){return at.a}),n.d(e,"merge",function(){return it.a}),n.d(e,"never",function(){return st}),n.d(e,"of",function(){return rt.a}),n.d(e,"onErrorResumeNext",function(){return lt}),n.d(e,"pairs",function(){return ct}),n.d(e,"partition",function(){return mt}),n.d(e,"race",function(){return vt}),n.d(e,"range",function(){return yt}),n.d(e,"throwError",function(){return xt.a}),n.d(e,"timer",function(){return Et.a}),n.d(e,"using",function(){return wt}),n.d(e,"zip",function(){return Ct}),n.d(e,"scheduled",function(){return Pt.a}),n.d(e,"EMPTY",function(){return q.a}),n.d(e,"NEVER",function(){return ot}),n.d(e,"config",function(){return kt.a})},"E1+c":function(t,e,n){"use strict";var a=this&&this.__decorate||function(t,e,n,a){var i,o=arguments.length,s=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,a);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var o=n("CcnG"),s=n("0NUV"),r=function(){function t(t,e,n){var a=this;this._elemRef=t,this._rendererRef=e,this._lightboxEvent=n,this.classList="lightboxOverlay animation fadeInOverlay",this._subscription=this._lightboxEvent.lightboxEvent$.subscribe(function(t){return a._onReceivedEvent(t)}),this._documentRef=window.document}return t.prototype.close=function(){this._lightboxEvent.broadcastLightboxEvent({id:s.LIGHTBOX_EVENT.CLOSE,data:null})},t.prototype.ngAfterViewInit=function(){var t=this.options.fadeDuration;this._rendererRef.setStyle(this._elemRef.nativeElement,"-webkit-animation-duration",t+"s"),this._rendererRef.setStyle(this._elemRef.nativeElement,"animation-duration",t+"s"),this._sizeOverlay()},t.prototype.onResize=function(){this._sizeOverlay()},t.prototype.ngOnDestroy=function(){this._subscription.unsubscribe()},t.prototype._sizeOverlay=function(){var t=this._getOverlayWidth(),e=this._getOverlayHeight();this._rendererRef.setStyle(this._elemRef.nativeElement,"width",t+"px"),this._rendererRef.setStyle(this._elemRef.nativeElement,"height",e+"px")},t.prototype._onReceivedEvent=function(t){switch(t.id){case s.LIGHTBOX_EVENT.CLOSE:this._end()}},t.prototype._end=function(){var t=this;this.classList="lightboxOverlay animation fadeOutOverlay",setTimeout(function(){t.cmpRef.destroy()},1e3*this.options.fadeDuration)},t.prototype._getOverlayWidth=function(){return Math.max(this._documentRef.body.scrollWidth,this._documentRef.body.offsetWidth,this._documentRef.documentElement.clientWidth,this._documentRef.documentElement.scrollWidth,this._documentRef.documentElement.offsetWidth)},t.prototype._getOverlayHeight=function(){return Math.max(this._documentRef.body.scrollHeight,this._documentRef.body.offsetHeight,this._documentRef.documentElement.clientHeight,this._documentRef.documentElement.scrollHeight,this._documentRef.documentElement.offsetHeight)},a([o.Input(),i("design:type",Object)],t.prototype,"options",void 0),a([o.Input(),i("design:type",Object)],t.prototype,"cmpRef",void 0),a([o.HostListener("click"),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"close",null),a([o.HostListener("window:resize"),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"onResize",null),t=a([o.Component({selector:"[lb-overlay]",template:"",host:{"[class]":"classList"}}),i("design:paramtypes",[o.ElementRef,o.Renderer2,s.LightboxEvent])],t)}();e.LightboxOverlayComponent=r},JOBi:function(t,e,n){"use strict";n.r(e);var a=n("mrSG"),i=n("/xvd"),o=n("faKS"),s=n("RrX5"),r=n("UodH"),l=n("Wf4p"),c=n("jQLj"),d=n("SMsm"),p=n("b716"),h=n("mVsa"),u=n("4epT"),m=n("uGex"),_=n("gIcY"),g=n("OkvK"),f=n("BHnd"),v=n("La40"),b=n("Nsh5"),D=n("w+lc"),y=n("seP3"),S=n("CcnG"),x=n("Ip0R"),E=n("ZYCi"),w=n("MzSu"),I=n("FpXt"),C=n("9sDP"),M=n("rixf"),O=n("3V+5"),R=n("gdGC"),T=n("j22h"),L=n("Cllz"),P=n("hsjL"),k=n("f0W1"),A=n("+7By"),B=function(){function t(){}return t.prototype.transform=function(t){return null!=t?t.toString().replace(/,/g,""):""},t=a.__decorate([Object(S.Pipe)({name:"noComma"})],t)}(),V=function(){function t(){}return t=a.__decorate([Object(S.NgModule)({imports:[x.c,_.n],declarations:[B],exports:[B]})],t)}(),N=n("ovst");n.d(e,"RealTimeListModule",function(){return z});var j=[{path:A.w,component:i.a}],z=function(){function t(){}return t=a.__decorate([Object(S.NgModule)({declarations:[i.a,P.a],imports:[x.c,I.a,E.e.forChild(j),w.a,d.a,y.c,r.a,s.a,c.a,p.b,f.b,u.a,h.a,v.a,o.a,l.p,m.a,_.n,C.a,O.a,R.a,L.a,g.a,M.a,b.a,D.a,_.h,k.a,V,N.LightboxModule],providers:[T.a],entryComponents:[P.a]})],t)}()},Lnp2:function(t,e){t.exports='<div  class="flex_row_sub">\n    \n    <div class="flex_col_sm_12">\n        <div class="flex">\n\n          <div class="alignRight">\n            <mat-icon style="cursor: pointer; color: red;" (click)="onNoClick()">clear</mat-icon>\n          </div>\n        </div>\n</div>\n\n</div>\n\n<div class="flex_row_sub text-center justify-content-center">\n\n    <div id="imageContainer"  class="container-fluid image_overflow">\n      \x3c!-- width: 1290px; height: 912px; --\x3e\n      <pinch-zoom>\n\n      <div id="img_container">\n        <img src="{{IMAGE_SRC}}" width="{{imageSize.width}}" height="{{imageSize.height}}" />\n        <div *ngFor="let each of scopeMapData; let i = index;">\n\n          \x3c!-- Changing multiplication factor from /2 to normal for more sized maps divide it by any multiplication factor --\x3e\n          <div *ngIf="snapShotData[i].occupied && !withImage" class="pointer_red tooltip-dialog"\n            [ngStyle]="{\'left\': (each.point.x-8)+\'px\', \'top\': (each.point.y-6)+\'px\', \'background-color\': snapShotData[i].color}">\n            <span class="tooltiptext-dialog">\n              <div><span>Spot:&nbsp;</span> <span>{{snapShotData[i].spot_id}}</span></div>\n              <div><span>Status:&nbsp;</span>\n                 <span *ngIf="snapShotData[i].occupied">Occupied</span>\n                 <span *ngIf="!snapShotData[i].occupied">Available</span>\n\n                </div>\n\n              <div><span>Camera:&nbsp;</span> <span>{{snapShotData[i].camera_id}}</span></div>\n              <div><span>Duration:&nbsp;</span> <span>{{snapShotData[i].duration | secondsToHours}}</span></div>\n              \n              </span>\n          </div>\n\n          <div *ngIf="snapShotData[i].occupied && withImage" class="pointer_red tooltip-dialog"\n            [ngStyle]="{\'left\': (each.center.x-8)+\'px\', \'top\': (each.center.y-6)+\'px\', \'background-color\': snapShotData[i].color}">\n            <span class="tooltiptext-dialog">\n              <div><span>Spot:&nbsp;</span> <span>{{snapShotData[i].spot_id}}</span></div>\n              <div><span>Status:&nbsp;</span>\n                 <span *ngIf="snapShotData[i].occupied">Occupied</span>\n                 <span *ngIf="!snapShotData[i].occupied">Available</span>\n\n                </div>\n\n              <div><span>Camera:&nbsp;</span> <span>{{snapShotData[i].camera_id}}</span></div>\n              <div><span>Duration:&nbsp;</span> <span>{{snapShotData[i].duration | secondsToHours}}</span></div>\n              \n              </span>\n          </div>\n\n          <div *ngIf="!snapShotData[i].occupied && !withImage" class="pointer_green tooltip-dialog"\n            [ngStyle]="{\'left\': (each.point.x-8)+\'px\', \'top\': (each.point.y-6)+\'px\', \'background-color\': snapShotData[i].color}">\n         \n            <span class="tooltiptext-dialog">\n              <div><span>Spot:&nbsp;</span> <span>{{snapShotData[i].spot_id}}</span></div>\n              <div><span>Status:&nbsp;</span> \n                <span *ngIf="snapShotData[i].occupied">Occupied</span>\n                <span *ngIf="!snapShotData[i].occupied">Available</span>\n              </div>\n              <div><span>Camera:&nbsp;</span> <span>{{snapShotData[i].camera_id}}</span></div>\n              </span>\n           </div>\n\n           <div *ngIf="!snapShotData[i].occupied && withImage" class="pointer_green tooltip-dialog"\n            [ngStyle]="{\'left\': (each.center.x-8)+\'px\', \'top\': (each.center.y-6)+\'px\', \'background-color\': snapShotData[i].color}">\n         \n            <span class="tooltiptext-dialog">\n              <div><span>Spot:&nbsp;</span> <span>{{snapShotData[i].spot_id}}</span></div>\n              <div><span>Status:&nbsp;</span> \n                <span *ngIf="snapShotData[i].occupied">Occupied</span>\n                <span *ngIf="!snapShotData[i].occupied">Available</span>\n              </div>\n              <div><span>Camera:&nbsp;</span> <span>{{snapShotData[i].camera_id}}</span></div>\n              </span>\n           </div>\n        </div>\n      </div>\n      </pinch-zoom>\n    </div>\n  </div>'},hsjL:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var a=n("mrSG"),i=n("CcnG"),o=n("o3x0"),s=function(t){function e(e,n){var a=t.call(this)||this;return a.dialogRef=e,a.data=n,a.IMAGE_SRC=n.imageUrl,a.scopeMapData=a.data.scopedata,a.snapShotData=a.data.snapShotdata,a.imageSize=a.data.size,a.withImage=n.withImage,a}return a.__extends(e,t),e.prototype.ngOnInit=function(){console.log(this.data)},e.prototype.onNoClick=function(){this.dialogRef.close()},e.ctorParameters=function(){return[{type:o.d},{type:void 0,decorators:[{type:i.Inject,args:[o.a]}]}]},e=a.__decorate([Object(i.Component)({selector:"app-mapview",template:n("Lnp2"),styles:[n("/p11")]}),a.__param(1,Object(i.Inject)(o.a)),a.__metadata("design:paramtypes",[o.d,Object])],e)}(n("RzZf").a)},iAM3:function(t,e,n){"use strict";var a=this&&this.__decorate||function(t,e,n,a){var i,o=arguments.length,s=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,a);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(e,"__esModule",{value:!0});var i=n("DoSW"),o=n("kmun"),s=n("luWi"),r=n("0NUV"),l=n("E1+c"),c=n("CcnG"),d=function(){function t(){}return t=a([c.NgModule({declarations:[l.LightboxOverlayComponent,o.LightboxComponent],providers:[i.Lightbox,s.LightboxConfig,r.LightboxEvent,r.LightboxWindowRef],entryComponents:[l.LightboxOverlayComponent,o.LightboxComponent]})],t)}();e.LightboxModule=d},j22h:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var a=n("mrSG"),i=n("CcnG"),o=n("buKM"),s=n("gIcY"),r=n("FTgb"),l=n("jRgp"),c=n("iiAa"),d=n("t/Na"),p=function(){function t(t,e,n,a,i){this._formService=t,this._formBuilder=e,this._http=n,this.http=a,this._utilityService=i,this.httpOptions={headers:new d.e({"Access-Control-Allow-Origin":"*",Authorization:"Basic c2hvd2Nhc2U6YXVkaWVuY2UtYW5vdGhlci1hcy1mb3J0aA=="})}}return t.prototype.getFilterForm=function(){return this._formBuilder.group(this._formService.getFilterFormControls(["fromDate","toDate","shiftName"]))},t.prototype.createSelectForm=function(){return this._formBuilder.group({building:this._formService.getControl("dropdown"),floor:this._formService.getControl("dropdown"),slider:this._formService.getControl("name")})},t.prototype.createFilterObject=function(t){return{registrationDate:{label:"Trip Date",fromDate:t.controls.fromDate,toDate:t.controls.toDate}}},t.prototype.getAllRoster=function(t){return this._http.get(l.D,t)},t.prototype.getCompanyShift=function(){return this._http.get(l.p)},t.prototype.getScopeData=function(t){return this._http.post(l.Q,{user:t.user,password:t.password,buildingUrl:t.buildingUrl})},t.prototype.getSnapshotData=function(t,e){return this._http.post(l.S,{timestamp:t.timestamp,user:t.user,password:t.password,buildingUrl:t.buildingUrl,camera_ids:t.cameras,with_image:t.withImage,block_id:t.zone,klass:"",with_crops:!0},e)},t.prototype.getVacantData=function(t){return this._http.post(l.U,{timestamp:t.timestamp,user:t.user,password:t.password,buildingUrl:t.buildingUrl})},t.prototype.getOccupiedData=function(t){return this._http.post(l.T,{timestamp:t.timestamp,user:t.user,password:t.password,buildingUrl:t.buildingUrl})},t.prototype.getLocations=function(){return this._http.get(l.E)},t.prototype.downloadVideo=function(t){return this.http.post("https://showcase-alpha.io.parquery.com/dashboard/api/time_track/video_from_form",t,this.httpOptions)},t.prototype.sendUserNotification=function(t){return this._http.post(l.b,t)},t.prototype.getLongDuration=function(){return this._http.get(l.d)},t.ctorParameters=function(){return[{type:o.a},{type:s.d},{type:r.a},{type:d.b},{type:c.a}]},t=a.__decorate([Object(i.Injectable)({providedIn:"root"}),a.__metadata("design:paramtypes",[o.a,s.d,r.a,d.b,c.a])],t)}()},kmun:function(t,e,n){"use strict";var a=this&&this.__decorate||function(t,e,n,a){var i,o=arguments.length,s=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,a);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var o=n("CcnG"),s=n("ZYjt"),r=n("0NUV"),l=function(){function t(t,e,n,a,i,o){var s=this;this._elemRef=t,this._rendererRef=e,this._lightboxEvent=n,this._lightboxElem=a,this._lightboxWindowRef=i,this._sanitizer=o,this.options=this.options||{},this.album=this.album||[],this.currentImageIndex=this.currentImageIndex||0,this._windowRef=this._lightboxWindowRef.nativeWindow,this.ui={showReloader:!0,showLeftArrow:!1,showRightArrow:!1,showArrowNav:!1,showZoomButton:!1,showRotateButton:!1,showPageNumber:!1,showCaption:!1,classList:"lightbox animation fadeIn"},this.content={pageNumber:""},this._event={},this._lightboxElem=this._elemRef,this._event.subscription=this._lightboxEvent.lightboxEvent$.subscribe(function(t){return s._onReceivedEvent(t)}),this._documentRef=window.document,this.rotate=0}return t.prototype.ngOnInit=function(){var t=this;this.album.forEach(function(e){e.caption&&(e.caption=t._sanitizer.sanitize(o.SecurityContext.HTML,e.caption))})},t.prototype.ngAfterViewInit=function(){this._cssValue={containerTopPadding:Math.round(this._getCssStyleValue(this._containerElem,"padding-top")),containerRightPadding:Math.round(this._getCssStyleValue(this._containerElem,"padding-right")),containerBottomPadding:Math.round(this._getCssStyleValue(this._containerElem,"padding-bottom")),containerLeftPadding:Math.round(this._getCssStyleValue(this._containerElem,"padding-left")),imageBorderWidthTop:Math.round(this._getCssStyleValue(this._imageElem,"border-top-width")),imageBorderWidthBottom:Math.round(this._getCssStyleValue(this._imageElem,"border-bottom-width")),imageBorderWidthLeft:Math.round(this._getCssStyleValue(this._imageElem,"border-left-width")),imageBorderWidthRight:Math.round(this._getCssStyleValue(this._imageElem,"border-right-width"))},this._validateInputData()&&(this._prepareComponent(),this._registerImageLoadingEvent())},t.prototype.ngOnDestroy=function(){this.options.disableKeyboardNav||this._disableKeyboardNav(),this._event.subscription.unsubscribe()},t.prototype.close=function(t){t.stopPropagation(),(t.target.classList.contains("lightbox")||t.target.classList.contains("lb-loader")||t.target.classList.contains("lb-close"))&&this._lightboxEvent.broadcastLightboxEvent({id:r.LIGHTBOX_EVENT.CLOSE,data:null})},t.prototype.control=function(t){if(t.stopPropagation(),t.target.classList.contains("lb-turnLeft"))this.rotate=this.rotate-90,this._rotateContainer(),this._calcTransformPoint(),document.getElementById("image").style.transform="rotate("+this.rotate+"deg)",document.getElementById("image").style.webkitTransform="rotate("+this.rotate+"deg)",this._lightboxEvent.broadcastLightboxEvent({id:r.LIGHTBOX_EVENT.ROTATE_LEFT,data:null});else if(t.target.classList.contains("lb-turnRight"))this.rotate=this.rotate+90,this._rotateContainer(),this._calcTransformPoint(),document.getElementById("image").style.transform="rotate("+this.rotate+"deg)",document.getElementById("image").style.webkitTransform="rotate("+this.rotate+"deg)",this._lightboxEvent.broadcastLightboxEvent({id:r.LIGHTBOX_EVENT.ROTATE_RIGHT,data:null});else if(t.target.classList.contains("lb-zoomOut")){var e=parseInt(document.getElementById("outerContainer").style.height)/1.5,n=parseInt(document.getElementById("outerContainer").style.width)/1.5;document.getElementById("outerContainer").style.height=e+"px",document.getElementById("outerContainer").style.width=n+"px";e=parseInt(document.getElementById("image").style.height)/1.5,n=parseInt(document.getElementById("image").style.width)/1.5;document.getElementById("image").style.height=e+"px",document.getElementById("image").style.width=n+"px",this._lightboxEvent.broadcastLightboxEvent({id:r.LIGHTBOX_EVENT.ZOOM_OUT,data:null})}else if(t.target.classList.contains("lb-zoomIn")){e=1.5*parseInt(document.getElementById("outerContainer").style.height),n=1.5*parseInt(document.getElementById("outerContainer").style.width);document.getElementById("outerContainer").style.height=e+"px",document.getElementById("outerContainer").style.width=n+"px";e=1.5*parseInt(document.getElementById("image").style.height),n=1.5*parseInt(document.getElementById("image").style.width);document.getElementById("image").style.height=e+"px",document.getElementById("image").style.width=n+"px",this._lightboxEvent.broadcastLightboxEvent({id:r.LIGHTBOX_EVENT.ZOOM_IN,data:null})}},t.prototype._rotateContainer=function(){var t=this.rotate;t<0&&(t*=-1),t/90%4==1||t/90%4==3?(document.getElementById("outerContainer").style.height=document.getElementById("image").style.width,document.getElementById("outerContainer").style.width=document.getElementById("image").style.height,document.getElementById("container").style.height=document.getElementById("image").style.width,document.getElementById("container").style.width=document.getElementById("image").style.height):(document.getElementById("outerContainer").style.height=document.getElementById("image").style.height,document.getElementById("outerContainer").style.width=document.getElementById("image").style.width,document.getElementById("container").style.height=document.getElementById("image").style.width,document.getElementById("container").style.width=document.getElementById("image").style.height)},t.prototype._resetImage=function(){this.rotate=0,document.getElementById("image").style.transform="rotate("+this.rotate+"deg)",document.getElementById("image").style.webkitTransform="rotate("+this.rotate+"deg)"},t.prototype._calcTransformPoint=function(){var t=parseInt(document.getElementById("image").style.height),e=parseInt(document.getElementById("image").style.width),n=this.rotate%360;n<0&&(n=360+n),90==n?document.getElementById("image").style.transformOrigin=t/2+"px "+t/2+"px":180==n?document.getElementById("image").style.transformOrigin=e/2+"px "+t/2+"px":270==n&&(document.getElementById("image").style.transformOrigin=e/2+"px "+e/2+"px")},t.prototype.nextImage=function(){1!==this.album.length&&(this.currentImageIndex===this.album.length-1?this._changeImage(0):this._changeImage(this.currentImageIndex+1))},t.prototype.prevImage=function(){1!==this.album.length&&(0===this.currentImageIndex&&this.album.length>1?this._changeImage(this.album.length-1):this._changeImage(this.currentImageIndex-1))},t.prototype._validateInputData=function(){if(!(this.album&&this.album instanceof Array&&this.album.length>0))throw new Error("No album data or album data is not correct in type");for(var t=0;t<this.album.length;t++)if(!this.album[t].src)throw new Error("One of the album data does not have source data");if(isNaN(this.currentImageIndex))throw new Error("Current image index is not a number");return this.currentImageIndex=Number(this.currentImageIndex),!0},t.prototype._registerImageLoadingEvent=function(){var t=this,e=new Image;e.onload=function(){t._onLoadImageSuccess()};var n=this.album[this.currentImageIndex].src;e.src=this._sanitizer.sanitize(o.SecurityContext.URL,n)},t.prototype._onLoadImageSuccess=function(){var t,e,n,a,i,o,s,r;this.options.disableKeyboardNav||this._disableKeyboardNav(),e=s=this._imageElem.nativeElement.naturalWidth,t=r=this._imageElem.nativeElement.naturalHeight,this.options.fitImageInViewPort&&(o=this._windowRef.innerWidth,i=this._windowRef.innerHeight,a=o-this._cssValue.containerLeftPadding-this._cssValue.containerRightPadding-this._cssValue.imageBorderWidthLeft-this._cssValue.imageBorderWidthRight-20,n=i-this._cssValue.containerTopPadding-this._cssValue.containerTopPadding-this._cssValue.imageBorderWidthTop-this._cssValue.imageBorderWidthBottom-120,(s>a||r>n)&&(s/a>r/n?(e=a,t=Math.round(r/(s/e))):(t=n,e=Math.round(s/(r/t)))),this._rendererRef.setStyle(this._imageElem.nativeElement,"width",e+"px"),this._rendererRef.setStyle(this._imageElem.nativeElement,"height",t+"px")),this._sizeContainer(e,t),this.options.centerVertically&&this._centerVertically(e,t)},t.prototype._centerVertically=function(t,e){var n=this._documentRef.documentElement.scrollTop+(this._windowRef.innerHeight/2-e/2);this._rendererRef.setStyle(this._lightboxElem.nativeElement,"top",n+"px")},t.prototype._sizeContainer=function(t,e){var n=this,a=this._outerContainerElem.nativeElement.offsetWidth,i=this._outerContainerElem.nativeElement.offsetHeight,o=t+this._cssValue.containerRightPadding+this._cssValue.containerLeftPadding+this._cssValue.imageBorderWidthLeft+this._cssValue.imageBorderWidthRight,s=e+this._cssValue.containerTopPadding+this._cssValue.containerBottomPadding+this._cssValue.imageBorderWidthTop+this._cssValue.imageBorderWidthBottom;Math.abs(a-o)+Math.abs(i-s)>5?(this._rendererRef.setStyle(this._outerContainerElem.nativeElement,"width",o+"px"),this._rendererRef.setStyle(this._outerContainerElem.nativeElement,"height",s+"px"),this.options.enableTransition?(this._event.transitions=[],["transitionend","webkitTransitionEnd","oTransitionEnd","MSTransitionEnd"].forEach(function(t){n._event.transitions.push(n._rendererRef.listen(n._outerContainerElem.nativeElement,t,function(t){t.target===t.currentTarget&&n._postResize(o,s)}))})):this._postResize(o,s)):this._postResize(o,s)},t.prototype._postResize=function(t,e){Array.isArray(this._event.transitions)&&(this._event.transitions.forEach(function(t){t()}),this._event.transitions=[]),this._rendererRef.setStyle(this._dataContainerElem.nativeElement,"width",t+"px"),this._showImage()},t.prototype._showImage=function(){this.ui.showReloader=!1,this._updateNav(),this._updateDetails(),this.options.disableKeyboardNav||this._enableKeyboardNav()},t.prototype._prepareComponent=function(){var t=this;this._addCssAnimation(),this._positionLightBox(),setTimeout(function(){t.ui.showZoomButton=t.options.showZoom,t.ui.showRotateButton=t.options.showRotate},0)},t.prototype._positionLightBox=function(){var t=(this._windowRef.pageYOffset||this._documentRef.documentElement.scrollTop)+this.options.positionFromTop,e=this._windowRef.pageXOffset||this._documentRef.documentElement.scrollLeft;this.options.centerVertically||this._rendererRef.setStyle(this._lightboxElem.nativeElement,"top",t+"px"),this._rendererRef.setStyle(this._lightboxElem.nativeElement,"left",e+"px"),this._rendererRef.setStyle(this._lightboxElem.nativeElement,"display","block"),this.options.disableScrolling&&this._rendererRef.addClass(this._documentRef.documentElement,"lb-disable-scrolling")},t.prototype._addCssAnimation=function(){var t=this.options.resizeDuration,e=this.options.fadeDuration;this._rendererRef.setStyle(this._lightboxElem.nativeElement,"-webkit-animation-duration",e+"s"),this._rendererRef.setStyle(this._lightboxElem.nativeElement,"animation-duration",e+"s"),this._rendererRef.setStyle(this._outerContainerElem.nativeElement,"-webkit-transition-duration",t+"s"),this._rendererRef.setStyle(this._outerContainerElem.nativeElement,"transition-duration",t+"s"),this._rendererRef.setStyle(this._dataContainerElem.nativeElement,"-webkit-animation-duration",e+"s"),this._rendererRef.setStyle(this._dataContainerElem.nativeElement,"animation-duration",e+"s"),this._rendererRef.setStyle(this._imageElem.nativeElement,"-webkit-animation-duration",e+"s"),this._rendererRef.setStyle(this._imageElem.nativeElement,"animation-duration",e+"s"),this._rendererRef.setStyle(this._captionElem.nativeElement,"-webkit-animation-duration",e+"s"),this._rendererRef.setStyle(this._captionElem.nativeElement,"animation-duration",e+"s"),this._rendererRef.setStyle(this._numberElem.nativeElement,"-webkit-animation-duration",e+"s"),this._rendererRef.setStyle(this._numberElem.nativeElement,"animation-duration",e+"s")},t.prototype._end=function(){var t=this;this.ui.classList="lightbox animation fadeOut",this.options.disableScrolling&&this._rendererRef.removeClass(this._documentRef.documentElement,"lb-disable-scrolling"),setTimeout(function(){t.cmpRef.destroy()},1e3*this.options.fadeDuration)},t.prototype._updateDetails=function(){void 0!==this.album[this.currentImageIndex].caption&&""!==this.album[this.currentImageIndex].caption&&(this.ui.showCaption=!0),this.album.length>1&&this.options.showImageNumberLabel&&(this.ui.showPageNumber=!0,this.content.pageNumber=this._albumLabel())},t.prototype._albumLabel=function(){return this.options.albumLabel.replace(/%1/g,Number(this.currentImageIndex+1)).replace(/%2/g,this.album.length)},t.prototype._changeImage=function(t){this._resetImage(),this.currentImageIndex=t,this._hideImage(),this._registerImageLoadingEvent(),this._lightboxEvent.broadcastLightboxEvent({id:r.LIGHTBOX_EVENT.CHANGE_PAGE,data:t})},t.prototype._hideImage=function(){this.ui.showReloader=!0,this.ui.showArrowNav=!1,this.ui.showLeftArrow=!1,this.ui.showRightArrow=!1,this.ui.showPageNumber=!1,this.ui.showCaption=!1},t.prototype._updateNav=function(){var t=!1;try{this._documentRef.createEvent("TouchEvent"),t=!!this.options.alwaysShowNavOnTouchDevices}catch(e){}this._showArrowNav(),this.album.length>1&&(this.options.wrapAround?(t&&(this._rendererRef.setStyle(this._leftArrowElem.nativeElement,"opacity","1"),this._rendererRef.setStyle(this._rightArrowElem.nativeElement,"opacity","1")),this._showLeftArrowNav(),this._showRightArrowNav()):(this.currentImageIndex>0&&(this._showLeftArrowNav(),t&&this._rendererRef.setStyle(this._leftArrowElem.nativeElement,"opacity","1")),this.currentImageIndex<this.album.length-1&&(this._showRightArrowNav(),t&&this._rendererRef.setStyle(this._rightArrowElem.nativeElement,"opacity","1"))))},t.prototype._showLeftArrowNav=function(){this.ui.showLeftArrow=!0},t.prototype._showRightArrowNav=function(){this.ui.showRightArrow=!0},t.prototype._showArrowNav=function(){this.ui.showArrowNav=1!==this.album.length},t.prototype._enableKeyboardNav=function(){var t=this;this._event.keyup=this._rendererRef.listen("document","keyup",function(e){t._keyboardAction(e)})},t.prototype._disableKeyboardNav=function(){this._event.keyup&&this._event.keyup()},t.prototype._keyboardAction=function(t){var e=t.keyCode,n=String.fromCharCode(e).toLowerCase();27===e||n.match(/x|o|c/)?this._lightboxEvent.broadcastLightboxEvent({id:r.LIGHTBOX_EVENT.CLOSE,data:null}):"p"===n||37===e?0!==this.currentImageIndex?this._changeImage(this.currentImageIndex-1):this.options.wrapAround&&this.album.length>1&&this._changeImage(this.album.length-1):"n"!==n&&39!==e||(this.currentImageIndex!==this.album.length-1?this._changeImage(this.currentImageIndex+1):this.options.wrapAround&&this.album.length>1&&this._changeImage(0))},t.prototype._getCssStyleValue=function(t,e){return parseFloat(this._windowRef.getComputedStyle(t.nativeElement,null).getPropertyValue(e))},t.prototype._onReceivedEvent=function(t){switch(t.id){case r.LIGHTBOX_EVENT.CLOSE:this._end()}},a([o.Input(),i("design:type",Array)],t.prototype,"album",void 0),a([o.Input(),i("design:type",Number)],t.prototype,"currentImageIndex",void 0),a([o.Input(),i("design:type",Object)],t.prototype,"options",void 0),a([o.Input(),i("design:type",Object)],t.prototype,"cmpRef",void 0),a([o.ViewChild("outerContainer",{static:!1}),i("design:type",o.ElementRef)],t.prototype,"_outerContainerElem",void 0),a([o.ViewChild("container",{static:!1}),i("design:type",o.ElementRef)],t.prototype,"_containerElem",void 0),a([o.ViewChild("leftArrow",{static:!1}),i("design:type",o.ElementRef)],t.prototype,"_leftArrowElem",void 0),a([o.ViewChild("rightArrow",{static:!1}),i("design:type",o.ElementRef)],t.prototype,"_rightArrowElem",void 0),a([o.ViewChild("navArrow",{static:!1}),i("design:type",o.ElementRef)],t.prototype,"_navArrowElem",void 0),a([o.ViewChild("dataContainer",{static:!1}),i("design:type",o.ElementRef)],t.prototype,"_dataContainerElem",void 0),a([o.ViewChild("image",{static:!1}),i("design:type",o.ElementRef)],t.prototype,"_imageElem",void 0),a([o.ViewChild("caption",{static:!1}),i("design:type",o.ElementRef)],t.prototype,"_captionElem",void 0),a([o.ViewChild("number",{static:!1}),i("design:type",o.ElementRef)],t.prototype,"_numberElem",void 0),t=a([o.Component({template:'\n    <div class="lb-outerContainer transition" #outerContainer id="outerContainer">\n      <div class="lb-container" #container id="container">\n        <img class="lb-image" id="image" [src]="album[currentImageIndex].src" class="lb-image animation fadeIn" [hidden]="ui.showReloader" #image>\n        <div class="lb-nav" [hidden]="!ui.showArrowNav" #navArrow>\n          <a class="lb-prev" [hidden]="!ui.showLeftArrow" (click)="prevImage()" #leftArrow></a>\n          <a class="lb-next" [hidden]="!ui.showRightArrow" (click)="nextImage()" #rightArrow></a>\n        </div>\n        <div class="lb-loader" [hidden]="!ui.showReloader" (click)="close($event)">\n          <a class="lb-cancel"></a>\n        </div>\n      </div>\n    </div>\n    <div class="lb-dataContainer" [hidden]="ui.showReloader" #dataContainer>\n      <div class="lb-data">\n        <div class="lb-details">\n          <span class="lb-caption animation fadeIn" [hidden]="!ui.showCaption" [innerHtml]="album[currentImageIndex].caption" #caption>\n          </span>\n          <span class="lb-number animation fadeIn" [hidden]="!ui.showPageNumber" #number>{{ content.pageNumber }}</span>\n        </div>\n        <div class="lb-controlContainer">\n          <div class="lb-closeContainer">\n            <a class="lb-close" (click)="close($event)"></a>\n          </div>\n          <div class="lb-turnContainer" [hidden]="!ui.showRotateButton">\n            <a class="lb-turnLeft" (click)="control($event)"></a>\n            <a class="lb-turnRight" (click)="control($event)"></a>\n          </div>\n          <div class="lb-zoomContainer" [hidden]="!ui.showZoomButton">\n            <a class="lb-zoomOut" (click)="control($event)"></a>\n            <a class="lb-zoomIn" (click)="control($event)"></a>\n          </div>\n        </div>\n      </div>\n    </div>',selector:"[lb-content]",host:{"(click)":"close($event)","[class]":"ui.classList"}}),i("design:paramtypes",[o.ElementRef,o.Renderer2,r.LightboxEvent,o.ElementRef,r.LightboxWindowRef,s.DomSanitizer])],t)}();e.LightboxComponent=l},luWi:function(t,e,n){"use strict";var a=this&&this.__decorate||function(t,e,n,a){var i,o=arguments.length,s=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,a);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var o=n("CcnG"),s=function(){function t(){this.fadeDuration=.7,this.resizeDuration=.5,this.fitImageInViewPort=!0,this.positionFromTop=20,this.showImageNumberLabel=!1,this.alwaysShowNavOnTouchDevices=!1,this.wrapAround=!1,this.disableKeyboardNav=!1,this.disableScrolling=!1,this.centerVertically=!1,this.enableTransition=!0,this.albumLabel="Image %1 of %2",this.showZoom=!1,this.showRotation=!1}return t=a([o.Injectable(),i("design:paramtypes",[])],t)}();e.LightboxConfig=s},ovst:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("DoSW");e.Lightbox=a.Lightbox;var i=n("luWi");e.LightboxConfig=i.LightboxConfig;var o=n("0NUV");e.LightboxEvent=o.LightboxEvent,e.LIGHTBOX_EVENT=o.LIGHTBOX_EVENT;var s=n("iAM3");e.LightboxModule=s.LightboxModule},pzWO:function(t,e){t.exports='\x3c!-- <div class="parentWrapper">\n\n  <div class="white_wrapper">\n\n\n    <div class="flex_row_sub">\n\n      <div class="flex_col_sm_6" style="background-color: #F8F8F8;">\n\n        <div class="flex_row_sub container-fluid">\n          <div class="flex_col_sm_3">\n            <h5>{{selectedTime * 1000 | date: \'medium\'}}</h5>\n            <mat-slider (change)="sliderData($event)" [disabled]="sliderDisabled" role="slider"\n              [(ngModel)]="sliderValue" min="{{previousTimestamp}}" max="{{currentTimestamp}}"></mat-slider>\n\n            <div class="flex">\n              <div class="alignLeft">\n                <span>OLDEST</span>\n              </div>\n\n              <div class="alignRight">\n                <span>LATEST</span>\n              </div>\n\n            </div>\n\n          </div>\n\n          <div class="flex_col_sm_3">\n            <mat-form-field appearance="outline">\n              <mat-label>Building</mat-label>\n              <mat-select class="form-control" [(value)]="selectedBuilding" (selectionChange)="getFloors($event)"\n                placeholder="Mode">\n                <mat-option *ngFor="let building of locationsData; let i = index" value="{{i}}">{{building.name}}\n                </mat-option>\n              </mat-select>\n            </mat-form-field>\n          </div>\n\n          <div class="flex_col_sm_3">\n            <mat-form-field appearance="outline">\n              <mat-label>Floor</mat-label>\n              <mat-select name="floor" class="form-control" [(value)]="selectedFloor"\n                (selectionChange)="getMapData($event)" placeholder="Floor">\n                <mat-option *ngFor="let floor of floorsData; let i = index" value="{{i}}">\n                  {{floor.name}}\n                </mat-option>\n              </mat-select>\n            </mat-form-field>\n          </div>\n\n\n\n        </div>\n      </div>\n\n      <div class="flex_col_sm_6" style="background-color: #F8F8F8;">\n        <div class="flex_row_sub">\n\n          <div class="flex_col_sm_2 text-center">\n            <h6 *ngIf="VacantData">{{VacantData}}</h6>\n            <h6 *ngIf="!VacantData">0</h6>\n\n            <span>Available Slots</span>\n          </div>\n          <div class="flex_col_sm_2 text-center">\n            <h6 *ngIf="OccupiedData">{{OccupiedData}}</h6>\n            <h6 *ngIf="!OccupiedData">0</h6>\n            <span>Parked Cars</span>\n          </div>\n          <div class="flex_col_sm_2 text-center">\n            <h6>0</h6>\n            <span>Parked Bikes</span>\n          </div>\n          <div class="flex_col_sm_2 text-center">\n            <h6>0</h6>\n            <span>Visitors</span>\n          </div>\n          <div class="flex_col_sm_2 text-center">\n            <h6>0</h6>\n            <span>Wrong Parking</span>\n          </div>\n          <div class="flex_col_sm_2 text-center">\n            <h6 *ngIf="!MedianDuration">0</h6>\n            <h6 *ngIf="MedianDuration">{{MedianDuration | secondsToHours}}</h6>\n            <span>Long Duration</span>\n          </div>\n        </div>\n      </div>\n    </div>\n\n\n    \n    <div class="flex_row_sub">\n      <div class="flex_col_sm_5" style="background-color: #F8F8F8;">\n\n\n        <div class="flex_row_sub container-fluid">\n          <div class="flex_col_sm_2">\n\n            <mat-form-field appearance="outline">\n              <mat-label>Zone</mat-label>\n              <mat-select name="zone" [disabled]="disableZone" class="form-control" [(value)]="selectedZone"\n                (selectionChange)="getZonesData($event)" placeholder="Zone" [ngClass]="selected">\n                <mat-option value="All">All</mat-option>\n                <mat-option *ngFor="let zone of zonesData; let i = index" value="{{i}}">{{zone.parqueryValue}}\n                </mat-option>\n\n              </mat-select>\n            </mat-form-field>\n          </div>\n          <div class="flex_col_sm_2">\n            <mat-form-field appearance="outline">\n              <mat-label>View</mat-label>\n              <mat-select name="view" class="form-control" [(value)]="selectedMap"\n                (selectionChange)="viewChange($event)" placeholder="View" [ngClass]="selected">\n                <mat-option *ngFor="let each of view; let i = index" value="{{i}}">\n                  {{each.viewValue}}\n                </mat-option>\n              </mat-select>\n            </mat-form-field>\n          </div>\n\n          <div class="flex_col_sm_2" id="cameras" style="display: none;">\n            <mat-form-field appearance="outline">\n              <mat-label>Camera</mat-label>\n              <mat-select name="camera" class="form-control" [(value)]="selectedCamera"\n                (selectionChange)="cameraChange($event)" placeholder="Camera" [ngClass]="selected">\n                <mat-option *ngFor="let camera of cameras; let i = index" value="{{i}}">\n                  {{camera}}\n                </mat-option>\n              </mat-select>\n            </mat-form-field>\n          </div>\n          <div class="flex_col_sm_2" id="status">\n            <mat-form-field appearance="outline">\n              <mat-label>Status</mat-label>\n              <mat-select name="duration" class="form-control" [(value)]="status_selected"\n                (selectionChange)="statusFilter($event)" placeholder="Duration" [ngClass]="selected">\n                <mat-option *ngFor="let each of status" value="{{each.value}}">\n                  {{each.viewValue}}\n                </mat-option>\n              </mat-select>\n            </mat-form-field>\n          </div>\n          <div class="flex_col_sm_2" id="duration" style="display: none;">\n            <mat-form-field appearance="outline" [class.disabled]="true">\n              <mat-label>Duration</mat-label>\n              <mat-select name="duration" class="form-control" [(value)]="duration_selected"\n                (selectionChange)="durationFilter($event)" placeholder="Duration" [ngClass]="selected">\n                <mat-option *ngFor="let time of duration" value="{{time.value}}">\n                  {{time.viewValue}}\n                </mat-option>\n              </mat-select>\n            </mat-form-field>\n          </div>\n\n         \n        </div>\n\n        <div class="flex_row_sub">\n          <div id="imageContainer" class="container-fluid image_overflow" (click)="openMapDialog()">\n           \n            <div *ngIf="snapShotData" id="img_container">\n              <img src="{{IMAGE_SRC}}" width="{{imageSize.width}}" height="{{imageSize.height}}" />\n              <div *ngFor="let each of scopeMapData; let i = index;">\n                <div *ngIf="snapShotData[i].occupied && !withImage" class="pointer_red tooltip-realtime"\n                  [ngStyle]="{\'left\': (each.point.x-8)+\'px\', \'top\': (each.point.y-6)+\'px\', \'background-color\': snapShotData[i].color}">\n                  <span class="tooltiptext-realtime">\n                    <div><span>Spot:&nbsp;</span> <span>{{snapShotData[i].spot_id}}</span></div>\n                    <div><span>Status:&nbsp;</span>\n                      <span *ngIf="snapShotData[i].occupied">Occupied</span>\n                      <span *ngIf="!snapShotData[i].occupied">Available</span>\n\n                    </div>\n\n                    <div><span>Camera:&nbsp;</span> <span>{{snapShotData[i].camera_id}}</span></div>\n                    <div><span>Duration:&nbsp;</span> <span>{{snapShotData[i].duration | secondsToHours}}</span></div>\n                    <div><span>Since:&nbsp;</span>\n                      <span>{{(snapShotData[i].event_start) * 1000 | date:\'fullDate\'}}</span></div>\n\n                  </span>\n                </div>\n\n                <div *ngIf="snapShotData[i].occupied && withImage" class="pointer_red tooltip-realtime"\n                  [ngStyle]="{\'left\': (each.center.x-8)+\'px\', \'top\': (each.center.y-6)+\'px\', \'background-color\': snapShotData[i].color}">\n                  <span class="tooltiptext-realtime">\n                    <div><span>Spot:&nbsp;</span> <span>{{snapShotData[i].spot_id}}</span></div>\n                    <div><span>Status:&nbsp;</span>\n                      <span *ngIf="snapShotData[i].occupied">Occupied</span>\n                      <span *ngIf="!snapShotData[i].occupied">Available</span>\n                    </div>\n\n                    <div><span>Camera:&nbsp;</span> <span>{{snapShotData[i].camera_id}}</span></div>\n                    <div><span>Duration:&nbsp;</span> <span>{{snapShotData[i].duration | secondsToHours}}</span></div>\n                    <div><span>Since:&nbsp;</span>\n                      <span>{{(snapShotData[i].event_start) * 1000 | date:\'fullDate\'}}</span></div>\n\n                  </span>\n                </div>\n\n                <div *ngIf="!snapShotData[i].occupied && !withImage" class="pointer_green tooltip-realtime"\n                  [ngStyle]="{\'left\': (each.point.x-8)+\'px\', \'top\': (each.point.y-6)+\'px\', \'background-color\': snapShotData[i].color}">\n\n                  <span class="tooltiptext-realtime">\n                    <div><span>Spot:&nbsp;</span> <span>{{snapShotData[i].spot_id}}</span></div>\n                    <div><span>Status:&nbsp;</span>\n                      <span *ngIf="snapShotData[i].occupied">Occupied</span>\n                      <span *ngIf="!snapShotData[i].occupied">Available</span>\n                    </div>\n                    <div><span>Camera:&nbsp;</span> <span>{{snapShotData[i].camera_id}}</span></div>\n                  </span>\n                </div>\n\n                <div *ngIf="!snapShotData[i].occupied && withImage" class="pointer_green tooltip-realtime"\n                  [ngStyle]="{\'left\': (each.center.x-8)+\'px\', \'top\': (each.center.y-6)+\'px\', \'background-color\': snapShotData[i].color}">\n\n                  <span class="tooltiptext-realtime">\n                    <div><span>Spot:&nbsp;</span> <span>{{snapShotData[i].spot_id}}</span></div>\n                    <div><span>Status:&nbsp;</span>\n                      <span *ngIf="snapShotData[i].occupied">Occupied</span>\n                      <span *ngIf="!snapShotData[i].occupied">Available</span>\n                    </div>\n                    <div><span>Camera:&nbsp;</span> <span>{{snapShotData[i].camera_id}}</span></div>\n                  </span>\n                </div>\n              </div>\n\n            </div>\n\n          </div>\n        </div>\n        <div class="flex_row_sub margin_top_20">\n          <div class="flex_col_sm_2" *ngFor="let each of durationColors">\n            <div class="pointer_colors" [ngStyle]="{\'background-color\': each.color}"></div>\n            <div *ngIf="each.end == 0">Available</div>\n            <div *ngIf="each.end == 300">0-5 min</div>\n            <div *ngIf="each.end == 900">5-15 min</div>\n            <div *ngIf="each.end == 3600">15 min-1 hour</div>\n            <div *ngIf="each.end == 10800">1 hour-3 hour</div>\n            <div *ngIf="each.start == 10800">> 3 hour</div>\n\n          </div>\n        </div>\n      </div>\n\n      <div *ngIf="toggleNav" class="sidenav" class="flex_col_sm_7" style="background-color: #F8F8F8;">\n\n\n        <div class="flex_row_sub">\n          <div class="white_wrapper" style="width: 100%;">\n            <h6>Parking Slots</h6>\n            <table mat-table [dataSource]="datas" matSort (matSortChange)="sortData($event)" class="mat-elevation-z8">\n              <ng-container matColumnDef="position">\n                <th mat-header-cell *matHeaderCellDef>No.</th>\n                <td mat-cell *matCellDef="let element; let i = index">\n                  {{ getSerialNumber(i + 1) }}\n                </td>\n              </ng-container>\n\n              <ng-container matColumnDef="name">\n                <th mat-header-cell *matHeaderCellDef> Name</th>\n                <td mat-cell *matCellDef="let element">\n                  {{ element.name | checkNull }}\n                </td>\n              </ng-container>\n              <ng-container matColumnDef="phoneNo">\n                <th mat-header-cell *matHeaderCellDef>Phone No.</th>\n                <td mat-cell *matCellDef="let element">\n\n                  {{ element.mobileNo | checkNull }}\n                </td>\n              </ng-container>\n\n              <ng-container matColumnDef="camera">\n                <th mat-header-cell *matHeaderCellDef>Camera</th>\n                <td mat-cell *matCellDef="let element">\n                  {{ element.camera_id | checkNull }}\n                </td>\n              </ng-container>\n\n              <ng-container matColumnDef="zone">\n                <th mat-header-cell *matHeaderCellDef>Zone</th>\n                <td mat-cell *matCellDef="let element">\n                  {{ element.zone_id | checkNull }}\n                </td>\n              </ng-container>\n\n              <ng-container matColumnDef="slotNo">\n                <th mat-header-cell *matHeaderCellDef>Spot No.</th>\n                <td mat-cell *matCellDef="let element">\n                  {{ element.spot_id | checkNull }}\n                </td>\n              </ng-container>\n\n              <ng-container matColumnDef="vehicleId">\n                <th mat-header-cell *matHeaderCellDef>Vehicle No.</th>\n                <td mat-cell *matCellDef="let element">\n                  {{ element.vehicle_id | checkNull }}\n                </td>\n              </ng-container>\n\n              <ng-container matColumnDef="duration">\n                <th mat-header-cell *matHeaderCellDef>duration</th>\n                <td mat-cell *matCellDef="let element">\n                  <span *ngIf="element.duration">{{ element.duration | secondsToHours | checkNull }}</span>\n                  <span *ngIf="!element.duration">{{ element.duration | checkNull }}</span>\n\n\n                </td>\n              </ng-container>\n\n              <ng-container matColumnDef="enteredAt">\n                <th mat-header-cell *matHeaderCellDef>Entered At</th>\n                <td mat-cell *matCellDef="let element">\n                  {{ element.enteredAt | checkNull }}\n                </td>\n              </ng-container>\n\n              <ng-container matColumnDef="exitedAt">\n                <th mat-header-cell *matHeaderCellDef>Exited At</th>\n                <td mat-cell *matCellDef="let element">\n                  {{ element.exitedAt | checkNull }}\n                </td>\n              </ng-container>\n\n             \n\n              <ng-container matColumnDef="image">\n                <th mat-header-cell *matHeaderCellDef>Image</th>\n                <td mat-cell *matCellDef="let element" title="Download Video">\n                  <img width="50" height="50" src="data:image/png;base64,{{element.crop}}" />\n                </td>\n              </ng-container>\n\n              <ng-container matColumnDef="status">\n                <th mat-header-cell *matHeaderCellDef>Status</th>\n                <td mat-cell *matCellDef="let element">\n                  <span style="cursor: context-menu;" *ngIf="element.occupied == false"\n                    class="pointer_green_status"></span>\n                  <span style="cursor: context-menu;" *ngIf="element.occupied == true"\n                    class="pointer_red_status"></span>\n                </td>\n              </ng-container>\n\n              <ng-container matColumnDef="action">\n                <th mat-header-cell *matHeaderCellDef>Action</th>\n                <td mat-cell *matCellDef="let element">\n                  <button mat-button [matMenuTriggerFor]="menu"\n                    [disabled]="!element.occupied || longHours > element.duration" class="btn-more-menu">\n                    <mat-icon>more_vert</mat-icon>\n                  </button>\n                  <mat-menu #menu="matMenu" xPosition="before">\n\n                    <button mat-menu-item (click)="notify(element)">\n                      <mat-icon matTooltip="Edit">notifications</mat-icon> Notify User\n                    </button>\n\n                  </mat-menu>\n                </td>\n              </ng-container>\n\n              <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>\n              <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>\n            </table>\n\n            <div class="white_wrapper" *ngIf="total === 0">\n              <h2 class="not-found">No Data Found</h2>\n            </div>\n            <div class="white_wrapper" *ngIf="datas.data.length">\n              <mat-paginator [length]="total" [pageIndex]="page - 1" [pageSize]="pageSize"\n                [pageSizeOptions]="pageOptions" (page)="changePage($event)">\n              </mat-paginator>\n            </div>\n          </div>\n        </div>\n\n      </div>\n    </div>\n\n    \n  </div>\n</div> --\x3e\n<div class="main-content complete-align">\n\n    <div class="row">\n        <div class="col-sm-8 col-md-6 col-lg-8 col-xl-8">\n          <label  style="font-size: 25px !important;font-weight: 100 !important;">\n          Real Time Duration \n          </label>\n        </div>\n        <div class="col-sm-4 col-md-6 col-lg-4 col-xl-4">\n            <h5 style="margin-bottom: 0 !important;">{{selectedTime * 1000 | date: \'MMM d, y, h:mm a\'}}</h5>\n            <mat-slider style="margin-top: 0 !important;" (change)="sliderData($event)" [disabled]="sliderDisabled" role="slider"\n              [(ngModel)]="sliderValue" color="primary" min="{{previousTimestamp}}" max="{{currentTimestamp}}"></mat-slider>\n\n            <div class="row" style="margin-top: 0 !important;">\n              <div class="">\n                <span>OLDEST</span>\n              </div>\n\n              <div class="alignRight">\n                <span>LATEST</span>\n              </div>\n\n            </div>\n\n          </div>\n      </div>\n\n    <div class="row">\n        <div class="col-12 col-lg-6 col-xl">\n          <div class="mb-2">\n              <label style="margin-bottom: 0;">BUILDING</label>\n            <select [(ngModel)]="selectedBuilding" (change)="getFloors($event.target.value)" class="form-control" data-toggle="select" data-options=\'{"minimum-results-for-search": -1}\'>\n            <option *ngFor="let building of locationsData; let i = index" value="{{i}}">\n            {{building.name}}\n            </option>\n            </select>\n          </div>\n        </div>\n        <div class="col-12 col-lg-6 col-xl">\n          <div class="mb-2">\n              <label style="margin-bottom: 0;">FLOOR</label>\n            <select name="floor" class="form-control" [(ngModel)]="selectedFloor" (change)="getMapData($event.target.value)" data-toggle="select" data-options=\'{"minimum-results-for-search": -1}\'>\n              <option *ngFor="let floor of floorsData; let i = index" value="{{i}}">\n              {{floor.name}}\n              </option>\n            </select>\n          </div>\n        </div>\n        <div class="col-12 col-lg-6 col-xl">\n          <div class="mb-2">\n              <label style="margin-bottom: 0;">ZONE</label>\n          <select name="zone" class="form-control" [disabled]="disableZone" [(ngModel)]="selectedZone" (change)="getZonesData($event.target.value)" data-toggle="select" data-options=\'{"minimum-results-for-search": -1}\'>\n            <option value="1000">All</option>\n            <option *ngFor="let zone of zonesData; let i = index" value="{{i}}">{{zone.parqueryValue}}\n            </option>\n          </select>\n          </div>\n        </div>\n        <div class="col-12 col-lg-6 col-xl">\n          <div class="mb-2">\n              <label style="margin-bottom: 0;">VIEW</label>\n          <select name="view" class="form-control" [(ngModel)]="selectedMap" (change)="viewChange($event.target.value)" data-toggle="select" data-options=\'{"minimum-results-for-search": -1}\'>\n            <option *ngFor="let each of view; let i = index" value="{{i}}">\n              {{each.viewValue}}\n            </option>\n          </select>\n          </div>\n        </div>\n        <div class="col-12 col-lg-6 col-xl" id="cameras" style="display: none;">\n          <div class="mb-2">\n              <label style="margin-bottom: 0;">CAMERA</label>\n          <select name="camera" class="form-control" [(ngModel)]="selectedCamera" (change)="cameraChange($event.target.value)" data-toggle="select" data-options=\'{"minimum-results-for-search": -1}\'>\n            <option *ngFor="let camera of cameras; let i = index" value="{{i}}">\n              {{camera}}\n            </option>\n          </select>\n          </div>\n        </div>\n        <div class="col-12 col-lg-6 col-xl" id="status">\n          <div class="mb-2">\n              <label style="margin-bottom: 0;">STATUS</label>\n            <select name="duration" class="form-control" [(ngModel)]="status_selected" (change)="statusFilter($event.target.value)" data-toggle="select" data-options=\'{"minimum-results-for-search": -1}\' [ngClass]="selected">\n            <option *ngFor="let each of status" [value]="each.value">\n            {{each.viewValue}}\n            </option>\n            </select>\n          </div>\n        </div>\n        <div class="col-12 col-lg-6 col-xl" id="duration" style="display: none;">\n          <div class="mb-2">\n              <label style="margin-bottom: 0;">DURATION</label>\n            <select name="duration" class="form-control" [(ngModel)]="duration_selected" (change)="durationFilter($event.target.value)" data-toggle="select" data-options=\'{"minimum-results-for-search": -1}\' [ngClass]="selected">\n            <option *ngFor="let time of duration" value="{{time.value}}">\n              {{time.viewValue}}\n            </option>\n            </select>\n          </div>\n        </div>\n        <div class="col-12 col-lg-6 col-xl"></div>\n        <div class="col-12 col-lg-6 col-xl"></div>\n\n      </div>\n\n\n  <div class="row" style="margin-top: 2%;">\n    <div class="col-12 col-lg-6 col-xl">\n      <div class="card">\n        <div class="card-body">\n          <div class="row align-items-center">\n            <div class="col">\n            \n              <h3 class="card-title text-muted mb-3">\n              <b>Total Spots</b>\n              </h3>\n              <span class="h3 mb-0">\n                {{totalSpots}}\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="col-12 col-lg-6 col-xl">\n      <div class="card">\n        <div class="card-body">\n          <div class="row align-items-center">\n            <div class="col">\n              <h3 class="card-title text-muted mb-3">\n              <b>Available Spots</b>\n              </h3>\n              <span class="h3 mb-0">\n                <span *ngIf="VacantData">{{VacantData}}</span>\n                <span *ngIf="!VacantData">0</span>\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="col-12 col-lg-6 col-xl">\n      <div class="card">\n        <div class="card-body">\n          <div class="row align-items-center">\n            <div class="col">\n              <h3 class="card-title text-muted mb-3">\n              <b>Occupied Spots</b>\n              </h3>\n              <span class="h3 mb-0">\n                <span *ngIf="OccupiedData">{{OccupiedData}}</span>\n                <span *ngIf="!OccupiedData">0</span>\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    \x3c!-- <div class="col-12 col-lg-6 col-xl">\n      <div class="card">\n        <div class="card-body">\n          <div class="row align-items-center">\n            <div class="col">\n            \n              <h3 class="card-title text-muted mb-3">\n              <b>Parked Bikes</b>\n              </h3>\n              <span class="h3 mb-0">\n                0\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div> --\x3e\n    <div class="col-12 col-lg-6 col-xl">\n      <div class="card">\n        <div class="card-body">\n          <div class="row align-items-center">\n            <div class="col">\n              <h3 class="card-title text-muted mb-3">\n              <b>Visitors</b>\n              </h3>\n              <span class="h3 mb-0">\n                0\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="col-12 col-lg-6 col-xl">\n      <div class="card">\n        <div class="card-body">\n          <div class="row align-items-center">\n            <div class="col">\n              <h3 class="card-title text-muted mb-3">\n              <b>Wrong Parking</b>\n              </h3>\n              <span class="h3 mb-0">\n                0\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="col-12 col-lg-6 col-xl">\n      <div class="card">\n        <div class="card-body">\n          <div class="row align-items-center">\n            <div class="col">\n              <h3 class="card-title text-muted mb-3">\n              <b>Long Duration (>{{(longHours/3600) }}hrs)</b>\n              </h3>\n              <span class="h3 mb-0">\n                <span *ngIf="!MedianDuration">0</span>\n                <span *ngIf="MedianDuration">{{longHoursCount}}</span>\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  \n  </div>\n  \n\n</div> \n<div class="row" style="margin-top: 2%; padding-left: 20px;">\n  <div class="col-12 col-lg-6 col-xl">\n    <div class="card">\n      <div class="card-body">\n        <h3 class="card-title mb-4">\n          <b>Floor Map</b>\n        </h3>\n        <div id="imageContainer" (click)="openMapDialog()">\n         \n          <div *ngIf="snapShotData" id="img_container_dash">\n            \x3c!-- For translab keep the multiplication factor as /5*2 for best results --\x3e\n            <img src="{{IMAGE_SRC}}" width="{{imageSize.width}}" height="{{imageSize.height}}" />\n            <div *ngFor="let each of scopeMapData; let i = index;">\n              <div *ngIf="snapShotData[i].occupied && !withImage" class="pointer_red tooltip-realtime"\n              [ngStyle]="{\'left\': ((each.point.x)-8)+\'px\', \'top\': ((each.point.y)-6)+\'px\', \'background-color\': snapShotData[i].color}">\n\n                \x3c!-- [ngStyle]="{\'left\': (each.point.x-8)+\'px\', \'top\': (each.point.y-6)+\'px\', \'background-color\': snapShotData[i].color}"> --\x3e\n                <span class="tooltiptext-realtime">\n                  <div><span>Spot:&nbsp;</span> <span>{{snapShotData[i].spot_id}}</span></div>\n                  <div><span>Status:&nbsp;</span>\n                    <span *ngIf="snapShotData[i].occupied">Occupied</span>\n                    <span *ngIf="!snapShotData[i].occupied">Available</span>\n\n                  </div>\n\n                  <div><span>Camera:&nbsp;</span> <span>{{snapShotData[i].camera_id}}</span></div>\n                  <div><span>Duration:&nbsp;</span> <span>{{snapShotData[i].duration | secondsToHours}}</span></div>\n                  <div><span>Since:&nbsp;</span>\n                    <span>{{(snapShotData[i].event_start) * 1000 | date:\'fullDate\'}}</span></div>\n\n                </span>\n              </div>\n\n              <div *ngIf="snapShotData[i].occupied && withImage" class="pointer_red tooltip-realtime"\n              [ngStyle]="{\'left\': (each.center.x-8)+\'px\', \'top\': (each.center.y-6)+\'px\', \'background-color\': snapShotData[i].color}">\n\n                \x3c!-- [ngStyle]="{\'left\': (each.center.x-8)+\'px\', \'top\': (each.center.y-6)+\'px\', \'background-color\': snapShotData[i].color}"> --\x3e\n                <span class="tooltiptext-realtime">\n                  <div><span>Spot:&nbsp;</span> <span>{{snapShotData[i].spot_id}}</span></div>\n                  <div><span>Status:&nbsp;</span>\n                    <span *ngIf="snapShotData[i].occupied">Occupied</span>\n                    <span *ngIf="!snapShotData[i].occupied">Available</span>\n                  </div>\n\n                  <div><span>Camera:&nbsp;</span> <span>{{snapShotData[i].camera_id}}</span></div>\n                  <div><span>Duration:&nbsp;</span> <span>{{snapShotData[i].duration | secondsToHours}}</span></div>\n                  <div><span>Since:&nbsp;</span>\n                    <span>{{(snapShotData[i].event_start) * 1000 | date:\'fullDate\'}}</span></div>\n\n                </span>\n              </div>\n\n              <div *ngIf="!snapShotData[i].occupied && !withImage" class="pointer_green tooltip-realtime"\n              [ngStyle]="{\'left\': ((each.point.x)-8)+\'px\', \'top\': ((each.point.y)-6)+\'px\', \'background-color\': snapShotData[i].color}">\n\n                \x3c!-- [ngStyle]="{\'left\': (each.point.x-8)+\'px\', \'top\': (each.point.y-6)+\'px\', \'background-color\': snapShotData[i].color}"> --\x3e\n\n                <span class="tooltiptext-realtime">\n                  <div><span>Spot:&nbsp;</span> <span>{{snapShotData[i].spot_id}}</span></div>\n                  <div><span>Status:&nbsp;</span>\n                    <span *ngIf="snapShotData[i].occupied">Occupied</span>\n                    <span *ngIf="!snapShotData[i].occupied">Available</span>\n                  </div>\n                  <div><span>Camera:&nbsp;</span> <span>{{snapShotData[i].camera_id}}</span></div>\n                </span>\n              </div>\n\n              <div *ngIf="!snapShotData[i].occupied && withImage" class="pointer_green tooltip-realtime"\n                [ngStyle]="{\'left\': (each.center.x-8)+\'px\', \'top\': (each.center.y-6)+\'px\', \'background-color\': snapShotData[i].color}">\n                \x3c!-- [ngStyle]="{\'left\': (each.center.x-8)+\'px\', \'top\': (each.center.y-6)+\'px\', \'background-color\': snapShotData[i].color}"> --\x3e\n\n                <span class="tooltiptext-realtime">\n                  <div><span>Spot:&nbsp;</span> <span>{{snapShotData[i].spot_id}}</span></div>\n                  <div><span>Status:&nbsp;</span>\n                    <span *ngIf="snapShotData[i].occupied">Occupied</span>\n                    <span *ngIf="!snapShotData[i].occupied">Available</span>\n                  </div>\n                  <div><span>Camera:&nbsp;</span> <span>{{snapShotData[i].camera_id}}</span></div>\n                </span>\n              </div>\n            </div>\n\n          </div>\n\n        </div>\n      </div>\n\n      <div class="flex_row_sub margin_top_20">\n        <div class="flex_col_sm_2" *ngFor="let each of durationColors">\n          <div class="pointer_colors" [ngStyle]="{\'background-color\': each.color}"></div>\n          <div *ngIf="each.end == 0">Available</div>\n          <div *ngIf="each.end == 300">0-5 min</div>\n          <div *ngIf="each.end == 900">5-15 min</div>\n          <div *ngIf="each.end == 3600">15 min-1 hour</div>\n          <div *ngIf="each.end == 10800">1 hour-3 hour</div>\n          <div *ngIf="each.start == 10800">> 3 hour</div>\n\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="col-12 col-lg-6 col-xl">\n    <div>\n      <div class="card">\n        <div class="card-body" style="overflow: auto;" >\n          \x3c!-- <h3 class="card-title mb-4">\n            <b>Total Parking - (Entire Floor Map)</b>\n          </h3> --\x3e\n          <table mat-table [dataSource]="datas" matSort (matSortChange)="sortData($event)" class="mat-elevation-z8">\n            <ng-container matColumnDef="position">\n              <th mat-header-cell *matHeaderCellDef>#</th>\n              <td mat-cell *matCellDef="let element; let i = index" [ngStyle]="{\'color\': !element.occupied || longHours > element.duration ? \'\': \'red\' }">\n                {{ getSerialNumber(i + 1) }}\n              </td>\n            </ng-container>\n\n            <ng-container matColumnDef="name">\n              <th mat-header-cell *matHeaderCellDef> NAME</th>\n              <td mat-cell *matCellDef="let element; let i = index" [ngStyle]="{\'color\': !element.occupied || longHours > element.duration ? \'\': \'red\' }">\n                \x3c!-- {{ element.name | checkNull }} --\x3e\n                <span style="color: black;" *ngIf = \'element.occupied\'> {{nameArray[i]}} </span>\n              </td>\n            </ng-container>\n            \x3c!-- <ng-container matColumnDef="phoneNo">\n              <th mat-header-cell *matHeaderCellDef>Phone No.</th>\n              <td mat-cell *matCellDef="let element" [ngStyle]="{\'color\': !element.occupied || longHours > element.duration ? \'\': \'red\' }">\n\n                {{ element.mobileNo | checkNull }}\n              </td>\n            </ng-container> --\x3e\n\n            <ng-container matColumnDef="camera">\n              <th mat-header-cell *matHeaderCellDef>CAMERA</th>\n              <td mat-cell *matCellDef="let element" [ngStyle]="{\'color\': !element.occupied || longHours > element.duration ? \'\': \'red\' }">\n                {{ element.camera_id | checkNull }}\n              </td>\n            </ng-container>\n\n            \x3c!-- <ng-container matColumnDef="zone">\n              <th mat-header-cell *matHeaderCellDef>ZONE</th>\n              <td mat-cell *matCellDef="let element" [ngStyle]="{\'color\': !element.occupied || longHours > element.duration ? \'\': \'red\' }">\n                {{ element.zone_id | checkNull }}\n              </td>\n            </ng-container> --\x3e\n\n            <ng-container matColumnDef="slotNo">\n              <th mat-header-cell *matHeaderCellDef>SLOT</th>\n              <td mat-cell *matCellDef="let element" [ngStyle]="{\'color\': !element.occupied || longHours > element.duration ? \'\': \'red\' }">\n                {{ element.spot_id | checkNull }}\n              </td>\n            </ng-container>\n\n            <ng-container matColumnDef="vehicleId">\n              <th mat-header-cell *matHeaderCellDef>LICENSE PLATE</th>\n              <td mat-cell *matCellDef="let element;let i = index" [ngStyle]="{\'color\': !element.occupied || longHours > element.duration ? \'\': \'red\' }">\n                \x3c!-- {{ element.vehicle_id | checkNull }} --\x3e\n               <span style="color: black;" *ngIf = \'element.occupied\'>KA{{i*i| number:\'2.0-0\'}}GF{{i*i*i*i| number:\'4.0-0\'| noComma}}</span> \n              </td>\n            </ng-container>\n\n            <ng-container matColumnDef="duration">\n              <th mat-header-cell *matHeaderCellDef>DURATION</th>\n              <td mat-cell *matCellDef="let element" >\n                <span *ngIf="element.duration" [ngStyle]="{\'color\': !element.occupied || longHours > element.duration ? \'black\': \'red\' }">{{ element.duration | secondsToHours | checkNull }}</span>\n                <span  *ngIf="!element.duration" [ngStyle]="{\'color\': !element.occupied || longHours > element.duration ? \'black\': \'red\' }">{{ element.duration | checkNull }}</span>\n\n\n              </td>\n            </ng-container>\n\n            <ng-container matColumnDef="event_start">\n              <th mat-header-cell *matHeaderCellDef>PARKED AT</th>\n              <td mat-cell *matCellDef="let element" [ngStyle]="{\'color\': !element.occupied || longHours > element.duration ? \'\': \'red\' }">\n                {{ element.event_start * 1000 | date:\'MMM d h:mm a\' | checkNull }}\n              </td>\n            </ng-container>\n\n            \x3c!-- <ng-container matColumnDef="enteredAt">\n              <th mat-header-cell *matHeaderCellDef>IN TIME</th>\n              <td mat-cell *matCellDef="let element" [ngStyle]="{\'color\': !element.occupied || longHours > element.duration ? \'\': \'red\' }">\n                {{ element.enteredAt | checkNull }}\n              </td>\n            </ng-container>\n\n            <ng-container matColumnDef="exitedAt">\n              <th mat-header-cell *matHeaderCellDef>OUT TIME</th>\n              <td mat-cell *matCellDef="let element" [ngStyle]="{\'color\': !element.occupied || longHours > element.duration ? \'\': \'red\' }">\n                {{ element.exitedAt | checkNull }}\n              </td>\n            </ng-container> --\x3e\n\n           \n\n            <ng-container matColumnDef="image">\n              <th mat-header-cell *matHeaderCellDef>IMAGE</th>\n              \x3c!-- title="Download Video" --\x3e\n              <td mat-cell *matCellDef="let element" >\n                <img id="myImg" (click)="openImageModal(element.crop,element)" width="50" height="50" src="data:image/png;base64,{{element.crop}}" />\n              </td>\n            </ng-container>\n\n            <ng-container matColumnDef="status" >\n              <th mat-header-cell *matHeaderCellDef>STATUS</th>\n              <td mat-cell *matCellDef="let element">\n                <span style="cursor: context-menu;" *ngIf="element.occupied == false"\n                  class="pointer_green_status"></span>\n                <span style="cursor: context-menu;" *ngIf="element.occupied == true"\n                  class="pointer_red_status"></span>\n              </td>\n            </ng-container>\n\n            <ng-container matColumnDef="action">\n              <th mat-header-cell *matHeaderCellDef>ACTION</th>\n              <td mat-cell *matCellDef="let element">\n                <button mat-button [matMenuTriggerFor]="menu"\n                  [disabled]="!element.occupied || longHours > element.duration" class="btn-more-menu">\n                  <mat-icon>more_vert</mat-icon>\n                </button>\n                <mat-menu #menu="matMenu" xPosition="before">\n\n                  <button mat-menu-item (click)="notify(element)">\n                    <mat-icon matTooltip="Edit">notifications</mat-icon> Notify User\n                  </button>\n\n                </mat-menu>\n              </td>\n            </ng-container>\n\n            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>\n            <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>\n          </table>\n        </div>\n      </div>\n      <div class="white_wrapper" *ngIf="total === 0">\n        <h2 class="not-found">No Data Found</h2>\n      </div>\n      <div class="white_wrapper" *ngIf="datas.data.length">\n        <mat-paginator [length]="total" [pageIndex]="page - 1" [pageSize]="pageSize"\n          [pageSizeOptions]="pageOptions" (page)="changePage($event)">\n        </mat-paginator>\n      </div>\n    </div>\n  </div>\n</div>\n\n\n<div id="myModal" class="modal">\n    <span class="close">&times;</span>\n    <img class="modal-content" id="img01">\n    <div id="caption"></div>\n  </div>'}}]);
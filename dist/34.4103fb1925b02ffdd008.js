(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{"/h5D":function(e,n){e.exports='<div class="custom_container">\n    <div class="white_wrapper">\n        <h2 class="heading" *ngIf="!subAdminId">Add new Sub Admin</h2>\n        <h2 class="heading" *ngIf="subAdminId">Edit Sub Admin</h2>\n        <div class="flex_row">\n            <ul class="breadcrumb">\n                <li>\n                    <a routerLink="/admin/sub-admin/list">Sub Admin</a>\n                </li>\n                <li>\n                    <a href="javascript:void(0)" class="active">{{subAdminId? \'Edit\' : \'Add\'}}</a>\n                </li>\n            </ul>\n        </div>\n        <form action="" [formGroup]="subadminForm" (ngSubmit)="submitForm()">\n            <div class="form_wrapper">\n                <label class="form_label">Add Admin Details</label>\n                <div class="flex_row">\n                    <div class="flex_col_sm_5">\n                        <div class="form_filed_wrapper">\n                            <label class="form_label">Name</label>\n                            <mat-form-field appearance="outline">\n                                <mat-label>Enter Name</mat-label>\n                                <input formControlName="name" appNospace matInput>\n                                <mat-error>{{getControl(\'name\')|validate:\'Name\'}}</mat-error>\n                            </mat-form-field>\n                        </div>\n                    </div>\n                    <div class="flex_col_sm_5">\n                        <div class="form_filed_wrapper">\n                            <label class="form_label">Email</label>\n                            <mat-form-field appearance="outline">\n                                <mat-label>Enter Email</mat-label>\n                                <input formControlName="email" [readonly]="subAdminId" matInput>\n                                <mat-error>{{getControl(\'email\')|validate:\'Email\'}}</mat-error>\n                            </mat-form-field>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="flex_row">\n                    <div class="flex_col_sm_5">\n                        <div class="form_filed_wrapper">\n                            <label class="form_label">Company Location</label>\n                            <mat-form-field appearance="outline">\n                                <mat-label>Company Location</mat-label>\n                                <mat-select formControlName="companyLocationName" placeholder="Building">\n                                    <mat-option *ngFor="let building of locationsData; let i = index" [value]="building.name">\n                                        {{building.name}}</mat-option>\n                                </mat-select>\n                                <mat-error>{{getControl(\'companyLocationName\')|validate:\'Location\'}}</mat-error>\n\n                            </mat-form-field>\n                        </div>\n                    </div>\n                </div>\n\n                <label class="form_label">Admin Roles</label>\n                <div class="flex_row">\n                    <div class="flex_col_sm_10 roles">\n                        <div class="form_filed_wrapper" *ngFor="let permission of allPermission; let i= index;">\n                            <mat-checkbox [checked]="permission.checked"\n                                (change)="selectPermission($event.checked,permission.moduleKey)" class="mat-primary">\n                                {{permission.moduleName}}</mat-checkbox>\n                        </div>\n                    </div>\n                </div>\n                <div class="flex_row">\n                    <div class="flex_col_sm_10">\n                        <div class="form_filed_wrapper text-center">\n\n                            <ul class="btn_wrapper">\n                                <li> <button mat-raised-button type="button"\n                                        [routerLink]="\'SUBADMIN_LIST\'|absolutePath">Cancel</button>\n                                </li>\n                                <li> <button mat-raised-button color="primary">{{subAdminId?\'Update\':\'Add\'}}</button>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </form>\n    </div>\n</div>'},"3V+5":function(e,n,t){"use strict";var a=t("mrSG"),i=t("CcnG"),r=t("vblm"),o=t("FaG1"),s=function(){function e(){}return e.prototype.transform=function(e,n,t){return e&&e.errors?this.getValidationError(e,n,t):""},e.prototype.getValidationError=function(e,n,t){return this.charMessage=t||"characters",e.hasError("required")?n+" is required":e.hasError("pattern")?function(e,n){return e==o.a.email?"Please enter a valid "+n.toLowerCase():e==o.a.password?Object(r.j)(n)+" can not contain blank spaces":e==o.a.name?Object(r.j)(n)+" can not be blank":e==o.a.phone?Object(r.j)(n)+" must contain only numbers and can not start with 0":e==o.a.onlyNumber?"Only digits are allowed":e==o.a.price?Object(r.j)(n)+" must be numeric":e==o.a.alphaNumeric?Object(r.j)(n)+" can contain only characters and numbers":e==o.a.alphaNumericWithSpace?Object(r.j)(n)+" can contain only characters and numbers":e==o.a.alphabetsWithSpace?Object(r.j)(n)+" can contain only characters and space":e==o.a.noSpace?Object(r.j)(n)+" can't contain space":void 0}(e.errors.pattern.requiredPattern,n):e.hasError("minlength")?Object(r.j)(n)+" must be at least "+e.errors.minlength.requiredLength+" "+this.charMessage+" long":e.hasError("maxlength")?Object(r.j)(n)+" can not be more than "+e.errors.maxlength.requiredLength+" "+this.charMessage+" long":e.hasError("matchPassword")?r.g[n].matchPassword||"":e.hasError("min")?Object(r.j)(n)+" can not be less than "+e.errors.min.min:e.hasError("max")?Object(r.j)(n)+" can not be greater than "+e.errors.max.max:e.hasError("alpha")?" Please enter correct "+Object(r.j)(n):void 0},e=a.__decorate([Object(i.Pipe)({name:"validate",pure:!1}),a.__metadata("design:paramtypes",[])],e)}(),m=t("Ip0R"),l=t("gIcY");t.d(n,"a",function(){return c});var c=function(){function e(){}return e=a.__decorate([Object(i.NgModule)({imports:[m.c,l.n],declarations:[s],exports:[s],providers:[]})],e)}()},BRHt:function(e,n){e.exports='@charset "UTF-8";\n.flex_row {\n  display: flex;\n  margin: 0 -10px;\n  align-items: center;\n}\n.breadcrumb {\n  width: 100%;\n  padding: 5px 15px;\n}\n.breadcrumb li {\n  display: inline-block;\n}\n.breadcrumb li a {\n  color: #006CB8;\n  text-decoration: none;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 400;\n  outline: none;\n}\n.breadcrumb li a:before {\n  padding: 0 5px;\n  color: #B7BEC1;\n  content: "/ ";\n}\n.breadcrumb li a:after {\n  content: "/\xa0";\n  padding: 0 2px;\n  color: #A2ABAE;\n}\n.breadcrumb li a.active {\n  color: #262c2d;\n  cursor: default;\n}\n.breadcrumb li a.active:before {\n  padding: 0 5px;\n  color: #B7BEC1;\n  content: "/ ";\n}\n.breadcrumb li a.active:after {\n  display: none;\n}\n.breadcrumb li:first-child a:before, .breadcrumb li:first-child a:after {\n  display: none;\n}\n.breadcrumb li:last-child a:after {\n  display: none;\n}\n.roles {\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  flex-wrap: wrap;\n}\n.roles .form_filed_wrapper {\n  width: 48%;\n}\nbutton.mat-raised-button {\n  box-shadow: none !important;\n  border: 1px solid #0069FF !important;\n  min-width: 104px !important;\n}'},FaG1:function(e,n,t){"use strict";t.d(n,"a",function(){return a});var a={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,password:/^[^\s]+$/,name:/(.|\s)*\S(.|\s)*/,phone:"^[1-9][0-9]*$",price:/(^[0][1-9]+)|([1-9]\d*)+$/,alphaNumeric:"^[a-zA-Z0-9]+$",alphaNumericWithSpace:"^[a-zA-Z0-9 ]+$",alphabetsWithSpace:"^[a-zA-Z ]*$",onlyNumber:"^[0-9]*$",noSpace:/^\S*$/,REGNO:/(^[A-Za-z]{2}(?:[0-9]){2}(?:[A-Za-z]){1,2}([0-9]){4})$/i}},buKM:function(e,n,t){"use strict";var a=t("mrSG"),i=t("CcnG"),r=t("gIcY"),o=t("FaG1"),s={emailMaxLength:100,passwordMinLength:8,passwordMaxLength:20,nameMinLength:3,nameMaxLength:100,phoneMinLength:10,phoneMaxLength:10,locationMinLength:3,locationMaxLength:1e3,priceMinLength:1,priceMaxLength:10,minSeat:2,maxSeat:20,numberMinLength:1,numberMaxLength:10,regNoMaxLength:10,regNoMinLength:9};t.d(n,"a",function(){return m});var m=function(){function e(){this.VALIDATION={name:[r.o.pattern(o.a.alphabetsWithSpace),r.o.minLength(s.nameMinLength),r.o.maxLength(s.nameMaxLength)],id:[r.o.pattern(o.a.noSpace),r.o.minLength(s.nameMinLength),r.o.maxLength(s.nameMaxLength)],profileName:[r.o.pattern(o.a.name),r.o.minLength(s.nameMinLength),r.o.maxLength(s.nameMaxLength)],alphabetic:[r.o.pattern(o.a.alphabetsWithSpace),r.o.minLength(s.nameMinLength),r.o.maxLength(s.nameMaxLength)],alphaNumeric:[r.o.pattern(o.a.alphaNumericWithSpace),r.o.minLength(s.nameMinLength),r.o.maxLength(s.nameMaxLength)],number:[r.o.pattern(o.a.onlyNumber),r.o.minLength(s.numberMinLength),r.o.maxLength(s.numberMaxLength)],price:[r.o.pattern(o.a.price),r.o.minLength(s.priceMinLength),r.o.maxLength(s.priceMaxLength),r.o.min(0)],seatingCapacity:[r.o.required,r.o.pattern(o.a.phone),r.o.min(s.minSeat),r.o.max(s.maxSeat)],email:[r.o.pattern(o.a.email),r.o.maxLength(s.emailMaxLength)],description:[r.o.pattern(o.a.name),r.o.minLength(s.locationMinLength),r.o.maxLength(s.locationMaxLength)],password:[r.o.pattern(o.a.password),r.o.minLength(s.passwordMinLength),r.o.maxLength(s.passwordMaxLength)],phone:[r.o.required,r.o.pattern(o.a.phone),r.o.minLength(s.phoneMinLength),r.o.maxLength(s.phoneMaxLength)],crfLimitMonth:[r.o.required,r.o.pattern(o.a.onlyNumber)],phoneManual:[r.o.pattern(o.a.phone),r.o.maxLength(s.phoneMaxLength)],dropdown:[],checkbox:[],address:[r.o.required],longitude:[r.o.required],latitude:[r.o.required],startShift:[r.o.required],endShift:[r.o.required],googleAddress:[r.o.required,r.o.minLength(s.nameMinLength),r.o.maxLength(s.nameMaxLength)],noSpace:[r.o.required,r.o.pattern(o.a.noSpace)],date:[],regNo:[r.o.required,r.o.minLength(s.regNoMinLength),r.o.maxLength(s.regNoMaxLength)]}}return e.prototype.matchPassword=function(e){var n=e.get("password").value,t=e.get("confirmPassword").value;n&&t&&(e.get("confirmPassword").setErrors(null),n!==t?e.get("confirmPassword").setErrors({matchPassword:!0}):n===t&&e.get("confirmPassword").errors&&(delete e.get("confirmPassword").errors.matchPassword,0===Object.keys(e.get("confirmPassword").errors).length&&e.get("confirmPassword").setErrors(null)))},e.prototype.getControl=function(e,n){void 0===n&&(n=!0);var t=this.VALIDATION[e].slice();return n&&("checkbox"===e?t.splice(0,0,r.o.requiredTrue):t.splice(0,0,r.o.required)),["",r.o.compose(t)]},e.prototype.getFilterFormControls=function(e){for(var n={},t=0,a=e;t<a.length;t++){n[a[t]]=[null]}return n},e=a.__decorate([Object(i.Injectable)({providedIn:"root"}),a.__metadata("design:paramtypes",[])],e)}()},tB92:function(e,n,t){"use strict";t.r(n);var a=t("mrSG"),i=t("CcnG"),r=t("Ip0R"),o=t("buKM"),s=t("gIcY"),m=t("FTgb"),l=t("iiAa"),c=t("jRgp"),d=t("vblm"),u=t("67Y/"),p=t("9Z1F"),h=t("XlPw"),b=function(){function e(e,n,t,a){this._formService=e,this._formBuilder=n,this._http=t,this._uitilityService=a}return e.prototype.createSubadminForm=function(){return this._formBuilder.group({name:this._formService.getControl("name"),email:this._formService.getControl("email"),permission:"",companyLocationName:this._formService.getControl("dropdown")})},e.prototype.getAllPermission=function(){return this._http.get(c.G)},e.prototype.getSubAdminDetails=function(e){return this._http.get(c.u+e)},e.prototype.addSubadmin=function(e){var n=this,t=e.userId?"put":"post";return this._http[t](c.c,e).pipe(Object(u.a)(function(t){return n._uitilityService.showAlert(d.b[e.userId?"UPDATED":"ADDED"]("Subadmin")),t}),Object(p.a)(function(e){return Object(h.a)(e)}))},e.prototype.getLocations=function(){return this._http.get(c.E)},e.ctorParameters=function(){return[{type:o.a},{type:s.d},{type:m.a},{type:l.a}]},e=a.__decorate([Object(i.Injectable)({providedIn:"root"}),a.__metadata("design:paramtypes",[o.a,s.d,m.a,l.a])],e)}(),g=t("Oy5v"),f=t("ZYCi"),v=function(){function e(e,n,t,a){this._subAdminAdd=e,this._router=n,this._uitilityService=t,this._route=a,this.allPermission=[],this.selectedPermission=[],this.createForm()}return e.prototype.ngOnInit=function(){this.getAllPermission(),this.getLocations(),this.subAdminId=this._route.snapshot.params.Id},e.prototype.getAllPermission=function(){var e=this;this._subAdminAdd.getAllPermission().subscribe(function(n){n&&200==n.statusCode&&(e.allPermission=n.data.moduleName,console.log(e.allPermission),e.subAdminId&&e.getSubAdminDetail())})},e.prototype.getSubAdminDetail=function(){var e=this;this._subAdminAdd.getSubAdminDetails(this.subAdminId).subscribe(function(n){n&&200==n.statusCode&&(e.subAdminDetails=n.data,e.patchValue(e.subAdminDetails))})},e.prototype.patchValue=function(e){this.selectedPermission=e.permission;var n={name:e.name,email:e.email,companyLocationName:e.companyLocationName};this.subadminForm.patchValue(n),this.matchPermission()},e.prototype.matchPermission=function(){var e=this;this.allPermission.map(function(n){e.selectedPermission.map(function(e){e===n.moduleKey&&(n.checked=!0)})})},e.prototype.createForm=function(){this.subadminForm=this._subAdminAdd.createSubadminForm()},e.prototype.getControl=function(e){return this.subadminForm.controls[e]},e.prototype.selectPermission=function(e,n){var t=this;e?this.selectedPermission.push(n):this.selectedPermission.map(function(e,a){e===n&&t.selectedPermission.splice(a,1)})},e.prototype.submitForm=function(){if(!this.subadminForm.invalid&&!this.subadminForm.disabled)if(this.selectedPermission.length){var e=a.__assign({},this.subadminForm.value);this.subAdminId&&(e.userId=this.subAdminId),e.permission=this.selectedPermission,this.subadminForm.disable(),this.addSubAdmin(e)}else this._uitilityService.showAlert("Please select admin roles")},e.prototype.addSubAdmin=function(e){var n=this;console.log(e),this._subAdminAdd.addSubadmin(e).subscribe(function(e){e&&200==e.statusCode&&(console.log(e),n._router.navigate([g.SUBADMIN_LIST]))},function(e){n.subadminForm.enable()})},e.prototype.getLocations=function(){var e=this;this._subAdminAdd.getLocations().subscribe(function(n){e.locationsData=n.data.locations,console.log(e.locationsData)})},e.ctorParameters=function(){return[{type:b},{type:f.d},{type:l.a},{type:f.a}]},e=a.__decorate([Object(i.Component)({selector:"app-sub-admin-add",template:t("/h5D"),styles:[t("BRHt")]}),a.__metadata("design:paramtypes",[b,f.d,l.a,f.a])],e)}(),_=t("UodH"),L=t("de3e"),x=t("seP3"),y=t("b716"),A=t("3V+5"),w=t("faKS"),M=t("jqRB"),S=t("uGex");t.d(n,"SubAdminAddModule",function(){return j});var P=[{path:"",component:v}],j=function(){function e(){}return e=a.__decorate([Object(i.NgModule)({imports:[r.c,f.e.forChild(P),x.c,y.b,_.a,s.n,L.a,A.a,w.a,M.a,S.a],declarations:[v],providers:[b]})],e)}()}}]);